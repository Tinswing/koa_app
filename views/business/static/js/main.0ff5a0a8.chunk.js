(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(87)},52:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(37),c=a.n(r),i=a(3),o=a(91),l=(a(52),a(92)),m=a(94),u=a(89),p=a(5),d=a.n(p),h=a(19),g=a(39),f=a(2),v={isAuthorized:!1,isVerify:!1,user:{}},E=function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&0===Object.keys(e).length},y=function(e){return/^1[0-9]{10}$/.test(e)},N={type:[],categoryChoose:[]},b={showAlert:!1,message:"",showConfirm:!1,confirmMessage:"",sure:null,cancel:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALERT_MESSAGE":return Object(f.a)({},e,{showAlert:!0,message:t.payload});case"CLOSE_ALERT":return Object(f.a)({},e,{showAlert:!1,message:""});case"CONFIRM_MESSAGE":return Object(f.a)({},e,{showConfirm:!0,confirmMessage:t.payload.message||"",sure:t.payload.sure||null,cancel:t.payload.cancel||null});case"CLOSE_CONFIRM":return Object(f.a)({},e,{showConfirm:!1,confirmMessage:"",sure:null,cancel:null});default:return e}},C=a(25),_={contacts:[],messagesNotRead:[],chatnow:void 0,messages:[],sendingMessages:[],hideWindow:!0,hideChat:!0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_CHAT_MESSAGE_BACK":return Object(f.a)({},e,{messages:e.messages.map(function(e){return e.userId!==t.payload.target?e:Object(f.a)({},e,{content:[].concat(Object(C.a)(e.content),[{sender:t.payload.origin,msg:t.payload.content}])})}),sendingMessages:e.sendingMessages.filter(function(e){return e.target!==t.payload.target})});case"PUT_SENDING_MESSAGE":return Object(f.a)({},e,{sendingMessages:[].concat(Object(C.a)(e.sendingMessages),[{target:e.chatnow,message:t.payload}])});case"RECEIVE_CHAT_MESSAGE":var a=e.messagesNotRead.find(function(e){return e.userId===t.payload.origin});if(a)return Object(f.a)({},e,{messagesNotRead:e.messagesNotRead.map(function(e){return e.userId===t.payload.origin?Object(f.a)({},e,{notRead:e.notRead+1,content:[].concat(Object(C.a)(e.content),[{sender:t.payload.origin,msg:t.payload.content}])}):e})});if(a=e.messages.find(function(e){return e.userId===t.payload.origin})){if(a.userId===e.chatnow)return Object(f.a)({},e,{messages:e.messages.map(function(e){return e.userId===t.payload.origin?Object(f.a)({},e,{content:Array.isArray(e.content)?e.content.concat([{sender:t.payload.origin,msg:t.payload.content}]):[{sender:t.payload.origin,msg:t.payload.content}]}):e})});var n=[{sender:t.payload.origin,msg:t.payload.content}];return Object(f.a)({},e,{messages:e.messages.filter(function(e){return e.userId!==t.payload.origin}),messagesNotRead:[Object(f.a)({},a,{content:Array.isArray(a.content)?a.content.concat(n):n,notRead:1})].concat(e.messagesNotRead)})}return Object(f.a)({},e,{messagesNotRead:[{userId:t.payload.origin,nickname:t.payload.nickname,avatar:t.payload.avatar,notRead:1,content:[{sender:t.payload.origin,msg:t.payload.content}]}].concat(e.messagesNotRead)});case"INIT_CONTACTS":for(var s=[],r=[],c=0,i=t.payload.length;c<i;c++)t.payload[c].notRead>0?r.push(t.payload[c]):s.push(t.payload[c]);return Object(f.a)({},e,{messagesNotRead:r,messages:s});case"MESSAGE_NOT_READ_ITEM_TO_CHAT":return Object(f.a)({},e,{chatnow:t.payload.userId,messagesNotRead:e.messagesNotRead.filter(function(e){return e.userId!==t.payload.userId}),messages:[t.payload].concat(e.messages),hideWindow:!1});case"CONTACT_ITEM_TO_CHAT":var o=Object(f.a)({},e,{chatnow:t.payload.userId,hideWindow:!1,hideChat:!1,messagesNotRead:e.messagesNotRead.filter(function(e){var a=e.userId!==t.payload.userId;return a||(t.payload.content=e.content),a}),messages:e.messages.filter(function(e){var a=e.userId!==t.payload.userId;return a||(t.payload.content=e.content),a})});return o.messagesNotRead.length!==e.messagesNotRead.length||o.messages.length!==e.messages.length?Object(f.a)({},o,{messages:[t.payload].concat(o.messages)}):(t.payload.content=[],Object(f.a)({},o,{messages:[t.payload].concat(e.messages)}));case"MESSAGE_ITEM_TO_CHAT":return Object(f.a)({},e,{chatnow:t.payload.userId,hideWindow:!1});case"SET_CONTACTS":return Object(f.a)({},e,{contacts:t.payload});case"SET_WAIT_MESSAGE":return Object(f.a)({},e,{messages:e.messages.map(function(a){return a.userId===e.chatnow?Object(f.a)({},a,{wait:t.payload}):a})});case"TOGGLE_CHAT":return Object(f.a)({},e,{hideChat:t.payload});case"SWING_CHAT_WINDOW":return Object(f.a)({},e,{hideWindow:t.payload});case"LOGIN_OUT_CHAT":return _;default:return e}},k={step:1,account:"",storeName:"",idCard:"",reallyName:"",userId:-1},j=Object(h.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(f.a)({},e,{user:t.payload,isAuthorized:!0,isVerify:!1});case"LOGIN_OUT":return Object(f.a)({},e,{user:{},isAuthorized:!1,isVerify:!1});case"VERIFYING":return Object(f.a)({},e,{isVerify:!0});default:return e}},goods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BIG_TYPE":return Object(f.a)({},e,{type:t.payload});case"SET_SMAILL_TYPE":var a=e.type.find(function(e){return e._id===t.payload.bigid});return E(e.type)||E(a)?e:(a.smaillType=t.payload.smaillType,e);case"SET_CATEGORY_CHOOSE":return Object(f.a)({},e,{categoryChoose:t.payload});default:return e}},messageBox:w,chat:O,register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STEP_CHANGE":return Object(f.a)({},e,{step:t.payload});case"STEP1_FINISH":return Object(f.a)({},e,{step:2,account:t.payload.account,userId:t.payload.userId});case"STEP2_FINISH":return Object(f.a)({},e,{step:3},t.payload);default:return e}}}),S=[g.a],A=[h.a.apply(void 0,S)];"object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&A.push(window.__REDUX_DEVTOOLS_EXTENSION__());var x=Object(h.e)(j,{},h.d.apply(void 0,A));x.subscribe(function(){});var T=x,I=a(6),M=a(7),P=a(9),L=a(8),H=a(10),R=a(11),D=a.n(R),F="http://118.126.108.36",W="http://118.126.108.36",B="http://118.126.108.36",G=function(e,t){return"string"!==typeof e||""===e?"":t?e.replace(/OxO/g,"/").replace(/OdO/g,"=").replace(/OwO/g,"?").replace(/OaO/g,"&"):e.replace(/\//g,"OxO").replace(/\=/g,"OdO").replace(/\?/g,"OwO").replace(/&/g,"OaO")},z=function(e,t,a){if(!e)return"2019-1-1 0:0:0";var n=new Date(e);if(Number.isNaN(n.getDay()))return"";var s=t?n.getFullYear()+"-":"";return a?s+(n.getMonth()+1)+"-"+n.getDate():s+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()},$=function(e){if(e)return"object"===typeof window&&window.localStorage.setItem("jwtToken",e),d.a.defaults.headers.common.Authorization=e,J.initSocket(e);delete d.a.defaults.headers.common.Authorization,"object"===typeof window&&window.localStorage.removeItem("jwtToken"),"close"!==J.status&&J.ws.close()},U=function(e){if(E(e))return T.dispatch({type:"LOGIN_OUT"});T.dispatch({type:"SET_CURRENT_USER",payload:e})},V={status:"close",ws:null,initSocket:function(e){if("object"===typeof window&&e){var t=new WebSocket("".concat("ws://118.126.108.36","?token=").concat(e));t.onopen=function(e){V.status="open",console.log("socket open..."),setInterval(function(){"open"===V.status&&t.send(JSON.stringify({type:"transToken",target:"koa"}))},9e5),t.send('{"type":"init_chat_messages"}')},t.onmessage=function(e){var t=e.data;try{t=JSON.parse(t)}catch(a){return}switch(t.type){case"transToken":return $(t.content);case"send_chat_message":return X(t);case"init_chat_messages":return Y(t.content);case"receive_chat_message":return K(t);case"get_contacts":return Q(t.content);default:return}},t.onclose=function(e){console.log("socket close!"),V.status="close"},t.onerror=function(e){console.error("socket error",e)},V.ws=t}}},J=V,Y=function(e){T.dispatch({type:"INIT_CONTACTS",payload:e})},q=function(e){e=Object(f.a)({},e,{userId:e.userId||e.contactId});var t=T.getState().chat;(t.chatnow!==e.userId||t.hideChat)&&T.dispatch({type:"CONTACT_ITEM_TO_CHAT",payload:e})},X=function(e){T.dispatch({type:"SEND_CHAT_MESSAGE_BACK",payload:e})},K=function(e){e.origin===T.getState().chat.chatnow&&"open"===J.status&&J.ws.send(JSON.stringify({type:"msg_be_read",content:e.origin})),T.dispatch({type:"RECEIVE_CHAT_MESSAGE",payload:e})},Q=function(e){T.dispatch({type:"SET_CONTACTS",payload:e})};a(72);function Z(e){return[{dataName:"\u652f\u4ed8\u91d1\u989d",amount:e.payMoney||0,logo:"".concat(W,"/image/seller/money.jpg")},{dataName:"\u9000\u8d27\u8ba2\u5355",amount:e.abnormalOrder||0,logo:"".concat(W,"/image/seller/foot.jpg")},{dataName:"\u652f\u4ed8\u4e70\u5bb6\u6570",amount:e.payUser||0,logo:"".concat(W,"/image/seller/person.jpg")},{dataName:"\u6d4f\u89c8\u91cf",amount:e.looker||0,logo:"".concat(W,"/image/seller/look.jpg")},{dataName:"\u652f\u4ed8\u8ba2\u5355\u6570",amount:e.payOrder||0,logo:"".concat(W,"/image/seller/pay.jpg")}]}var ee=function(e){var t=new Z(e.data);return s.a.createElement("div",{className:"data-wrap"},s.a.createElement("div",{className:"da-head"},s.a.createElement("span",null,"\u5b9e\u65f6\u6570\u636e")),s.a.createElement("div",{className:"data-box f_wrap"},t.map(function(e,a){return s.a.createElement("div",{className:D()("data-item f_L",{"border-right":a%2===0,"border-bottom":a<t.length-1}),key:a},s.a.createElement("div",{className:"f_wrap"},s.a.createElement("div",{className:"da-logo f_L"},s.a.createElement("img",{src:e.logo,alt:e.dataName})),s.a.createElement("div",{className:"da-tit f_r"},e.dataName)),s.a.createElement("div",{className:"da-amount"},e.amount))})))};function te(e){return[{title:"\u5b9d\u8d1d\u7ba1\u7406",logs:[{itemName:"\u51fa\u552e\u4e2d\u7684\u5b9d\u8d1d",amount:0},{itemName:"\u5f85\u4e0a\u67b6\u7684\u5b9d\u8d1d",amount:0},{itemName:"\u5ba1\u6838\u4e2d\u7684\u5b9d\u8d1d",amount:0}]},{title:"\u8ba2\u5355\u63d0\u9192",logs:[{itemName:"\u5f85\u4ed8\u6b3e\u8ba2\u5355",amount:0},{itemName:"\u5f85\u53d1\u8d27\u8ba2\u5355",amount:0},{itemName:"\u5f85\u8bc4\u4ef7\u8ba2\u5355",amount:0},{itemName:"\u9000\u6b3e\u4e2d\u8ba2\u5355",amount:0},{itemName:"\u5f85\u7b7e\u6536\u8ba2\u5355",amount:0}]},{title:"\u6d3b\u52a8\u7ba1\u7406",logs:[{itemName:"\u5b98\u65b9\u6d3b\u52a8",amount:0}]},{title:"\u8fdd\u89c4\u63d0\u9192",logs:[{itemName:"\u5f85\u5904\u7406\u6295\u8bc9",amount:0},{itemName:"\u5f85\u5904\u7406\u8bc9\u8bbc",amount:0},{itemName:"\u4f18\u5316\u5efa\u8bae",amount:0},{itemName:"\u8fdd\u89c4\u8bb0\u5f55",amount:0},{itemName:"\u5f85\u5904\u7406\u8fdd\u89c4",amount:0},{itemName:"\u5df2\u552e\u5047\u6b21\u6570",amount:0}]}]}var ae=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={},a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=new te;return s.a.createElement("div",{className:""},s.a.createElement("div",{className:"da-head border-bottom"},"\u5f85\u529e\u6570\u636e"),s.a.createElement("div",{className:"log-body"},e.map(function(e,t){return s.a.createElement("div",{className:"backlog-item",key:t},s.a.createElement("div",{className:"log-tit"},e.title),s.a.createElement("div",{className:"f_wrap"},e.logs.map(function(e,t){return s.a.createElement("div",{className:"log-item f_L f_wrap",key:t},s.a.createElement("div",{className:"f_L"},e.itemName,"\uff1a"),s.a.createElement("div",{className:"log-amount f_r"},e.amount))})))}),s.a.createElement("div",{className:"backlog-item"},s.a.createElement("div",{className:"log-tit"},"\u5b89\u5168\u8bc4\u5206"),s.a.createElement("div",{className:"log-self"},s.a.createElement("span",null,"\u60a8\u7684\u8d26\u53f7\u65b0\u5b89\u5168\u8bc4\u5206\u4e3a"),s.a.createElement("span",{style:{padding:"0 5px"},className:"log-amount"},"80"),s.a.createElement("span",null,"\u5206"),s.a.createElement("span",null,", \u8bf7\u767b\u5f55\u540e\u8fdb\u5165\u6211\u7684\u4e3b\u9875\u63d0\u5347\u5206\u6570")))))}}]),t}(n.Component);a(73);function ne(){if("object"===typeof window){var e=document.documentElement.scrollHeight,t=9,a=setInterval(function(){document.documentElement.scrollTop=e/10*t,t--},50);setTimeout(function(){clearInterval(a),document.documentElement.scrollTop=0},500)}}var se=function(e){return s.a.createElement("div",{style:{backgroundColor:"#fff"},className:"footer-wrap"},s.a.createElement("div",{className:"foot-box"},s.a.createElement("div",{className:"foot-name"},s.a.createElement("div",{className:"ni-box f_wrap"},s.a.createElement("div",{className:"foot-ni f_L"},"\u5317\u5927\u9752\u9e1f"),s.a.createElement("div",{className:"foot-ni f_L"},"\u6210\u90fd\u667a\u8c37\u6821\u533a"),s.a.createElement("div",{className:"foot-ni f_L"},"T121"),s.a.createElement("div",{className:"foot-ni f_L"},"\u53f6\u8c31"),s.a.createElement("div",{className:"foot-ni f_L"},"\u5468\u56f4"),s.a.createElement("div",{className:"foot-ni f_L",style:{border:0}},"\u5510\u94ed\u4f51"))),s.a.createElement("div",{className:"foot-sec"},s.a.createElement("a",{href:"javascript:void(0)"},"\u5173\u4e8e\u4f18\u9009"),s.a.createElement("a",{href:"javascript:void(0)"},"\u5408\u4f5c\u4f19\u4f34"),s.a.createElement("a",{href:"javascript:void(0)"},"\u8425\u9500\u4e2d\u5fc3"),s.a.createElement("a",{href:"javascript:void(0)"},"\u5ec9\u6b63\u4e3e\u62a5"),s.a.createElement("a",{href:"javascript:void(0)"},"\u8054\u7cfb\u5ba2\u670d"),s.a.createElement("a",{href:"javascript:void(0)"},"\u5f00\u653e\u5e73\u53f0"),s.a.createElement("a",{href:"javascript:void(0)"},"\u8bda\u5f81\u82f1\u624d"),s.a.createElement("a",{href:"javascript:void(0)"},"\u8054\u7cfb\u6211\u4eec"),s.a.createElement("a",{href:"javascript:void(0)"},"\u7f51\u7ad9\u5730\u56fe"),s.a.createElement("a",{href:"javascript:void(0)"},"\u6cd5\u5f8b\u58f0\u660e"),s.a.createElement("a",{href:"javascript:void(0)"},"\u9690\u79c1\u6743\u653f\u7b56"),s.a.createElement("a",{href:"http://118.126.108.36"},"\xa9 2019 ChoicePerfect.com"),s.a.createElement("a",{href:"javascript:void(0)"},"\u7248\u6743\u6240\u6709")),s.a.createElement("div",{className:"copyright f_wrap",onClick:ne},s.a.createElement("div",{className:"logo-bdqn f_L"},s.a.createElement("img",{align:"absmiddle",title:"\u8fd4\u56de\u9876\u90e8",src:"".concat(W,"/image/ui/bdqn.png"),alt:"\u5317\u5927\u9752\u9e1f"})),s.a.createElement("div",{className:"copy f_r"},"@2019 \u5317\u5927\u9752\u9e1f\u6210\u90fd\u667a\u8c37"))))},re=a(93),ce=(a(74),function(e){function t(){var e;return Object(I.a)(this,t),(e=Object(P.a)(this,Object(L.a)(t).call(this))).state={management:"http://118.126.108.36/image/files/choice_perfect_manager.msi",chooseUrl:{management:"http://118.126.108.36/image/files/choice_perfect_manager.msi",control:"/seller/panel",register:"/seller/register",login:"/seller/login",order:"/seller/login",waitSend:"/seller/wait_send"}},e}return Object(H.a)(t,e),Object(M.a)(t,[{key:"loginOut",value:function(){this.props.location.pathname;$(!1),U({}),this.props.history.push("/seller/login")}},{key:"render",value:function(){var e=this.props.auth,t=s.a.createElement("ul",{className:"ul-l"},s.a.createElement("li",null,"\u54c8\uff0c\u6b22\u8fce\u6765\u5230\u4f18\u9009"),s.a.createElement("li",null,s.a.createElement("a",{href:"/seller/login"},"\u8bf7\u767b\u5f55")),s.a.createElement("li",null,s.a.createElement("a",{href:"/seller/register"},"\u514d\u8d39\u6ce8\u518c"))),a=s.a.createElement("ul",{className:"ul-l"},s.a.createElement("li",null,"Hi\uff0c",s.a.createElement("a",{href:"/member"},e.user.nickname)),s.a.createElement("li",null,s.a.createElement("a",{onClick:this.loginOut.bind(this),href:"javascript:void(0)"},"\u9000\u51fa")));return s.a.createElement("div",{className:"app-header-wrap"},s.a.createElement("div",{className:"app-header"},e.isAuthorized?a:t,s.a.createElement("ul",{className:"ul-r"},s.a.createElement("li",null,s.a.createElement("a",{href:"/"},"\u4f18\u9009\u9996\u9875")),s.a.createElement("li",{className:"h-my"},s.a.createElement("a",{href:"/member"},"\u6211\u7684\u4f18\u9009"),s.a.createElement("div",{className:"h-my-choi"},s.a.createElement("div",null,s.a.createElement("a",{href:"/member/safety"},"\u5b89\u5168\u8bbe\u7f6e")),s.a.createElement("div",null,s.a.createElement("a",{href:"/member"},"\u4e2a\u4eba\u8d44\u6599")),s.a.createElement("div",null,s.a.createElement("a",{href:"/member/myorder"},"\u6211\u7684\u8ba2\u5355")),s.a.createElement("div",null,s.a.createElement("a",{href:"/member/address"},"\u6536\u8d27\u5730\u5740")))),!e.isAuthorized||e.isAuthorized&&1!==e.user.isSeller?s.a.createElement("li",{className:"h-my"},s.a.createElement("a",{href:"/seller/panel"},"\u5546\u5bb6\u652f\u6301"),s.a.createElement("div",{className:"h-my-choi"},s.a.createElement("div",null,s.a.createElement("a",{href:"/seller/register"},"\u6ce8\u518c\u5546\u5bb6")),s.a.createElement("div",null,s.a.createElement("a",{href:this.state.management},"\u7ba1\u7406\u7aef\u4e0b\u8f7d")))):s.a.createElement("li",{className:"h-my"},s.a.createElement("a",{href:"/seller/panel"},"\u5356\u5bb6\u4e2d\u5fc3"),s.a.createElement("div",{className:"h-my-choi"},s.a.createElement("div",null,s.a.createElement("a",{href:"/seller/panel/wait_send"},"\u5f85\u53d1\u8d27\u5b9d\u8d1d")),s.a.createElement("div",null,s.a.createElement("a",{href:"/seller/panel/wait_send"},"\u51fa\u552e\u4e2d\u5b9d\u8d1d")),s.a.createElement("div",null,s.a.createElement("a",{href:this.state.management},"\u7ba1\u7406\u7aef\u4e0b\u8f7d")))),s.a.createElement("li",{className:"h-my"},s.a.createElement("a",{href:"javascript:void(0);"},"\u8054\u7cfb\u5ba2\u670d"),s.a.createElement("div",{className:"h-my-choi"},s.a.createElement("div",null,s.a.createElement("a",{href:this.state.chooseUrl.management},"\u7ba1\u7406\u7aef\u4e0b\u8f7d")))))))}}]),t}(n.Component)),ie=Object(re.a)(Object(i.b)(function(e){return{auth:e.auth}},null)(ce)),oe=a(4),le=function(e){return function(t){t({type:"ALERT_MESSAGE",payload:e})}},me=function(e,t,a){return function(n){n({type:"CONFIRM_MESSAGE",payload:{message:e,sure:t,cancel:a}})}};a(76);var ue=function(e){var t,a=e.order;return s.a.createElement("div",{className:"order-item"},s.a.createElement("div",{className:"o-i-head"},s.a.createElement("div",{className:"oih-i oi-date"},z(a.createTime,!0,!0)),s.a.createElement("div",{className:"oih-i oi-no"},"\u8ba2\u5355\u53f7\uff1a",a.orderNo),s.a.createElement("div",{className:"oih-i oi-sumprice"},"\uffe5",a.money)),s.a.createElement("div",{className:"oi-product"},s.a.createElement("div",{className:"oip-i-wrap"},s.a.createElement("div",{className:"oip-i oip-i-logo"},s.a.createElement("img",{width:"80px",src:"http://118.126.108.36".concat("/image/goods/logo/",a.goods.location,"_210x210q90.jpg"),alt:a.goods.name})),s.a.createElement("div",{className:"oip-i oip-i-info"},s.a.createElement("div",{className:"oip-i-goodname"},s.a.createElement("a",{href:"/product_detail?goodId=".concat(a.goods.id)},"string"!==typeof(t=a.goods.name)?"":t.length<35?t:t.substring(0,34)+"..."))),s.a.createElement("div",{className:"oip-i oip-i-price"},"\uffe5",a.money),s.a.createElement("div",{className:"oip-i oip-i-number"},a.number),s.a.createElement("div",{className:"oip-i oip-exp"}),s.a.createElement("div",{className:"oip-i oip-i-operator"},"\u5f85\u53d1\u8d27"===e.route||1===a.pay&&0===a.send?s.a.createElement("div",{className:"opre-i-wrap"},s.a.createElement("button",{onClick:function(){e.sendPost()},className:"opre-i-sign"},"\u7acb\u5373\u53d1\u8d27")):s.a.createElement("div",{className:"opre-i-wrap"},s.a.createElement("span",{className:"opre-i-waitsend"},function(e,t){return"\u6240\u6709"!==e?e:0===t.sign?"\u5f85\u7b7e\u6536":1===t.sign&&0===t.comment?"\u5f85\u8bc4\u8bba":"\u8ba2\u5355\u5df2\u5b8c\u6210"}(e.route,a)))))))},pe=a(13),de=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={postway:"",postno:""},a.fieldChangeHandler=a.fieldChangeHandler.bind(Object(oe.a)(a)),a.postSubmit=a.postSubmit.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"fieldChangeHandler",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"postSubmit",value:function(e){e.preventDefault(),""!==this.state.postway&&""!==this.state.postno&&this.props.submit(this.state.postway,this.state.postno)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"post-wrap"},s.a.createElement("form",{method:"POST",onSubmit:this.postSubmit},s.a.createElement("div",{className:"post-field f_wrap"},s.a.createElement("label",{className:"f_L",htmlFor:"postway"},"\u7269\u6d41\u516c\u53f8\uff1a"),s.a.createElement("input",{className:"f_r",onChange:this.fieldChangeHandler,autoComplete:"off",type:"text",placeholder:"\u8bf7\u8f93\u5165\u7269\u6d41\u516c\u53f8",value:this.state.postway,id:"postway",name:"postway"})),s.a.createElement("div",{className:"post-field f_wrap"},s.a.createElement("label",{className:"f_L",htmlFor:"postno"},"\u8ba2\u5355\u53f7\uff1a"),s.a.createElement("input",{className:"f_r",onChange:this.fieldChangeHandler,autoComplete:"off",type:"text",placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7",value:this.state.postno,id:"postno",name:"postno"})),s.a.createElement("div",{className:"post-operator f_wrap"},s.a.createElement("button",{className:"f_L",type:"submit"},"\u786e\u8ba4\u53d1\u8d27"),s.a.createElement("button",{onClick:function(){return e.props.cancel()},className:"post-cancel f_r"},"\u53d6\u6d88"))))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={routes:[{rule:/all_order$/,path:"/api/seller/auth/order",comment:"\u6240\u6709"},{rule:/wait_pay$/,path:"/api/seller/auth/order?payState=0",comment:"\u5f85\u4ed8\u6b3e"},{rule:/wait_send$/,operator:"send",path:"/api/seller/auth/order?sendState=0",comment:"\u5f85\u53d1\u8d27"},{rule:/wait_sign$/,path:"/api/seller/auth/order?signState=0",comment:"\u5f85\u7b7e\u6536"},{rule:/wait_comment$/,path:"/api/seller/auth/order?commentState=0",comment:"\u5f85\u8bc4\u8bba"}],orders:[],route:"",sendPost:!1,orderId:"",page:0},a.getOrders=a.getOrders.bind(Object(oe.a)(a)),a.hashNextPage=a.hashNextPage.bind(Object(oe.a)(a)),a.prevPage=a.prevPage.bind(Object(oe.a)(a)),a.nextPage=a.nextPage.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){this.getOrders(this.props.location.pathname)}},{key:"componentWillReceiveProps",value:function(e){e.location.pathname!==this.props.location.pathname&&this.getOrders(e.location.pathname)}},{key:"getOrders",value:function(e){for(var t=this,a=this.state.routes,n=0,s=a.length;n<s;n++)if(a[n].rule.test(e)){this.setState({route:a[n].comment,orders:[]},function(){d.a.get("".concat(B).concat(a[n].path)).then(function(e){var s=e.data;if(console.log(s),!s.success)return t.setState({errors:{data:s.message}});t.setState({orders:s.payload,route:a[n].comment})}).catch(function(e){t.props.alertMessageAction("\u83b7\u53d6\u8ba2\u5355\u4fe1\u606f\u5931\u8d25 "+(e.message||"\u670d\u52a1\u5668\u5fd9"))})});break}}},{key:"sendPostChangeHandler",value:function(e){this.setState({sendPost:!0,orderId:e})}},{key:"postSubmitHandler",value:function(e,t){var a=this,n={orderId:this.state.orderId,postWay:e,expNumber:t};d.a.post("".concat(B,"/api/seller/auth/order/send"),n).then(function(e){var t=e.data;if(!t.success)return a.props.alertMessageAction(t.message);a.setState({sendPost:!1},function(){a.getOrders(a.props.history.location.pathname),a.props.alertMessageAction("\u8ba2\u5355\u5df2\u53d1\u8d27")})}).catch(function(e){a.props.alertMessageAction(e.message||"\u670d\u52a1\u5668\u5fd9")})}},{key:"hashNextPage",value:function(){var e=this.state.orders.length,t=this.state.page;return e%5===0?e/5>t-1:Math.floor(e/5)>t}},{key:"prevPage",value:function(){this.state.page>0&&this.setState({page:this.state.page-1})}},{key:"nextPage",value:function(){this.hashNextPage()&&this.setState({page:this.state.page+1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"om-wrap f_L"},s.a.createElement("div",{className:"om-head"},s.a.createElement("div",null,this.state.route,"\u7684\u8ba2\u5355")),s.a.createElement("div",{className:"order-item-wrap",style:{width:"760px"}},E(this.state.orders)?s.a.createElement("div",{className:"item-empty"},"\u5f53\u524d\u6ca1\u6709",this.state.route,"\u7684\u8ba2\u5355\u54e6"):this.state.orders.slice(5*this.state.page,5*this.state.page+5).map(function(t,a){return s.a.createElement(ue,{sendPost:e.sendPostChangeHandler.bind(e,t.id),order:t,route:e.state.route,key:a})}),!E(this.state.products)&&this.state.products.length>5?s.a.createElement("div",{className:"u-o-page"},s.a.createElement("div",{onClick:this.nextPage,className:D()("u-o-next",{"u-o-next-void":!this.hashNextPage()})},"\u4e0b\u4e00\u9875"),s.a.createElement("div",{onClick:this.prevPage,className:D()("u-o-prev",{"u-o-prev-void":0===this.state.page})},"\u4e0a\u4e00\u9875")):null,this.state.sendPost?s.a.createElement(de,{cancel:function(){return e.setState({sendPost:!1})},submit:this.postSubmitHandler.bind(this)}):null))}}]),t}(n.Component),ge=Object(i.b)(null,{alertMessageAction:le})(he);a(77);var fe=function(e){var t,a,n=e.product;return s.a.createElement("div",{className:"order-item"},s.a.createElement("div",{className:"o-i-head"},s.a.createElement("div",{className:"oih-i oi-date"},z(n.creatTime,!0,!0)),s.a.createElement("div",{className:"oih-i oi-no",style:{textAlign:"left"}},"\u5546\u54c1ID\uff1a",n.id),s.a.createElement("div",{className:"oih-i oi-sumprice"},"\uffe5",(a=n.price,/^\d+$/.test(a)?a+".00":/^\d+\.\d$/.test(a)?a+"0":a))),s.a.createElement("div",{className:"oi-product"},s.a.createElement("div",{className:"oip-i-wrap"},s.a.createElement("div",{className:"oip-i oip-i-logo"},s.a.createElement("img",{width:"80px",src:"".concat(W,"/image/goods/logo/").concat(n.location,"_210x210q90.jpg"),alt:n.name})),s.a.createElement("div",{className:"oip-i oip-i-info"},s.a.createElement("div",{className:"oip-i-goodname"},s.a.createElement("a",{href:"/product_detail?goodId=".concat(n.id)},"string"!==typeof(t=n.name)?"":t.length<35?t:t.substring(0,34)+"..."))),s.a.createElement("div",{className:"oip-i oip-i-price"}),s.a.createElement("div",{className:"oip-i oip-i-number"},"\u9500\u91cf\uff1a",n.buyNo),s.a.createElement("div",{className:"oip-i oip-exp"}),s.a.createElement("div",{className:"oip-i oip-i-operator"},"\u51fa\u552e\u4e2d\u7684\u5b9d\u8d1d"===e.route?s.a.createElement("div",{className:"opre-i-wrap"},s.a.createElement("button",{onClick:e.downProduct,className:"opre-i-sign"},"\u4e0b\u67b6")):"\u4e0b\u67b6\u7684\u5b9d\u8d1d"===e.route?s.a.createElement("div",{className:"opre-i-wrap"},s.a.createElement("button",{onClick:e.putProduct,className:"opre-i-sign"},"\u4e0a\u67b6")):s.a.createElement("div",{className:"opre-i-wrap"},s.a.createElement("span",{className:"opre-i-waitsend"},"\u5ba1\u6838\u4e2d"))))))},ve=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={route:"",routes:[{rule:/\/in_seller$/,path:"/api/seller/auth/good?goodState=0",comment:"\u51fa\u552e\u4e2d\u7684\u5b9d\u8d1d"},{rule:/\/un_seller$/,path:"/api/seller/auth/good?goodState=1",comment:"\u4e0b\u67b6\u7684\u5b9d\u8d1d"},{rule:/\/chk_products$/,path:"/api/seller/auth/good?checkState=0",comment:"\u5ba1\u6838\u4e2d\u7684\u5b9d\u8d1d"}],products:[{name:"VR\u773c\u775b",logo:"O8rORaHsYu_35422899.jpg",creaTime:"",price:1e3,isinseller:!0},{name:"\u5916\u661f\u4eba\u53f0\u5f0f\u673a",logo:"KL7reEqhUl_84629430.jpg",price:1e3,isinseller:!0}],page:0},a.getProductData=a.getProductData.bind(Object(oe.a)(a)),a.hashNextPage=a.hashNextPage.bind(Object(oe.a)(a)),a.prevPage=a.prevPage.bind(Object(oe.a)(a)),a.nextPage=a.nextPage.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){this.getProductData(this.props.location.pathname)}},{key:"componentWillReceiveProps",value:function(e){e.location.pathname!==this.props.location.pathname&&this.getProductData(e.location.pathname)}},{key:"downProduct",value:function(e,t){var a=this;this.props.confirmMessageAction("\u786e\u8ba4\u4e0b\u67b6 "+t,function(){d.a.post("".concat(B,"/api/seller/auth/good/down"),[e+""]).then(function(e){var t=e.data;if(!t.success)return a.props.alertMessageAction(t.message);a.getProductData(a.props.location.pathname),a.props.alertMessageAction("\u4e0b\u67b6\u6210\u529f")}).catch(function(e){a.props.alertMessageAction("\u4e0b\u67b6\u5931\u8d25"+(e.message||"\u670d\u52a1\u5668\u5fd9"))})},function(){})}},{key:"putProduct",value:function(e,t){var a=this;this.props.confirmMessageAction("\u786e\u8ba4\u4e0a\u67b6 "+t,function(){d.a.post("".concat(B,"/api/seller/auth/good/put"),[e+""]).then(function(e){var t=e.data;if(!t.success)return a.props.alertMessageAction(t.message);a.getProductData(a.props.location.pathname),a.props.alertMessageAction("\u4e0a\u67b6\u6210\u529f")}).catch(function(e){a.props.alertMessageAction("\u4e0a\u67b6\u5931\u8d25"+(e.message||"\u670d\u52a1\u5668\u5fd9"))})},function(){})}},{key:"getProductData",value:function(e){for(var t=this,a=this.state.routes,n=0,s=a.length;n<s;n++)if(a[n].rule.test(e)){this.setState({route:a[n].comment,products:[]}),d.a.get("".concat(B).concat(a[n].path)).then(function(e){var a=e.data;if(!a.success)return t.props.alertMessageAction(a.message);t.setState({products:a.payload})}).catch(function(e){t.props.alertMessageAction(e.message||"\u670d\u52a1\u5668\u5fd9")});break}}},{key:"hashNextPage",value:function(){var e=this.state.products.length,t=this.state.page;return e%5===0?e/5>t-1:Math.floor(e/5)>t}},{key:"prevPage",value:function(){this.state.page>0&&this.setState({page:this.state.page-1})}},{key:"nextPage",value:function(){this.hashNextPage()&&this.setState({page:this.state.page+1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"om-wrap f_L"},s.a.createElement("div",{className:"om-head"},s.a.createElement("div",null,this.state.route)),s.a.createElement("div",{className:"order-item-wrap",style:{width:"760px"}},E(this.state.products)?s.a.createElement("div",{className:"item-empty"},"\u5f53\u524d\u6ca1\u6709",this.state.route,"\u54e6"):this.state.products.slice(5*this.state.page,5*this.state.page+5).map(function(t,a){return s.a.createElement(fe,{downProduct:e.downProduct.bind(e,t.id,t.name),putProduct:e.putProduct.bind(e,t.id,t.name),product:t,route:e.state.route,key:a})}),!E(this.state.products)&&this.state.products.length>5?s.a.createElement("div",{className:"u-o-page"},s.a.createElement("div",{onClick:this.nextPage,className:D()("u-o-next",{"u-o-next-void":!this.hashNextPage()})},"\u4e0b\u4e00\u9875"),s.a.createElement("div",{onClick:this.prevPage,className:D()("u-o-prev",{"u-o-prev-void":0===this.state.page})},"\u4e0a\u4e00\u9875")):null))}}]),t}(n.Component),Ee=Object(i.b)(null,{alertMessageAction:le,confirmMessageAction:me})(ve),ye=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={route:"",currentData:{},sellerData:{},operators:[{routeName:"\u4ea4\u6613\u7ba1\u7406",routePath:"transaction",logo:"".concat(W,"/image/seller/jiaoyi.jpg"),navs:[{navName:"\u5df2\u5356\u51fa\u7684\u5b9d\u8d1d",path:"/seller/panel/all_order"},{navName:"\u8bc4\u4ef7\u7ba1\u7406",path:"/seller/panel/wait_comment"}]},{routeName:"\u8ba2\u5355\u7ba1\u7406",routePath:"order",logo:"".concat(W,"/image/seller/yunying.jpg"),navs:[{navName:"\u5f85\u4ed8\u6b3e\u8ba2\u5355",path:"/seller/panel/wait_pay"},{navName:"\u5f85\u53d1\u8d27\u8ba2\u5355",path:"/seller/panel/wait_send"},{navName:"\u5f85\u7b7e\u6536\u8ba2\u5355",path:"/seller/panel/wait_sign"},{navName:"\u5f85\u8bc4\u4ef7\u8ba2\u5355",path:"/seller/panel/wait_comment"}]},{routeName:"\u7269\u6d41\u7ba1\u7406",routePath:"express",logo:"".concat(W,"/image/seller/wuliu.jpg"),navs:[{navName:"\u53d1\u8d27",path:"/seller/panel/wait_send"},{navName:"\u7269\u6d41\u5de5\u5177",path:"/seller"},{navName:"\u7269\u6d41\u670d\u52a1",path:"/seller"}]},{routeName:"\u5b9d\u8d1d\u7ba1\u7406",routePath:"product",logo:"".concat(W,"/image/seller/baobei.jpg"),navs:[{navName:"\u53d1\u5e03\u5b9d\u8d1d",path:"/seller/category"},{navName:"\u51fa\u552e\u4e2d\u7684\u5b9d\u8d1d",path:"/seller/panel/in_seller"},{navName:"\u4e0b\u67b6\u7684\u5b9d\u8d1d",path:"/seller/panel/un_seller"},{navName:"\u5ba1\u6838\u4e2d\u7684\u5b9d\u8d1d",path:"/seller/panel/chk_products"}]},{routeName:"\u5e97\u94fa\u7ba1\u7406",routePath:"store",logo:"".concat(W,"/image/seller/dianpu.jpg"),navs:[{navName:"\u67e5\u770b\u6dd8\u5b9d\u5e97\u94fa",path:"/seller"},{navName:"\u5e97\u94fa\u88c5\u4fee",path:"/seller"},{navName:"\u5b9d\u8d1d\u5206\u7c7b\u7ba1\u7406",path:"/seller"},{navName:"\u8d26\u623f",path:"/seller"}]}]},a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){var e=this;d.a.all([d.a.get("".concat(B,"/api/seller/auth/ydata")),d.a.get("".concat(B,"/api/seller/auth/good/data"))]).then(d.a.spread(function(t,a){t.data.success&&a.data.success&&e.setState({currentData:Object(f.a)({},t.data.payload),sellerData:Object(f.a)({},a.data.payload)})})).catch(function(e){console.error(e)})}},{key:"handlerRouteChange",value:function(e){this.setState({route:this.state.route===e?"":e})}},{key:"toggleChatWindowHandler",value:function(){console.log(this.props.hideChat),this.props.toggleChatAction(!this.props.hideChat)}},{key:"render",value:function(){var e=this,t=this.props.user;return s.a.createElement("div",{className:"home"},s.a.createElement(ie,null),s.a.createElement("div",{className:"head-wrap",style:{border:"1px solid blue"}},s.a.createElement("div",{className:"head-content f_wrap"},s.a.createElement("div",{className:"head-l f_L"},s.a.createElement("span",{className:"h-f1"},"\u4f18\u9009"),s.a.createElement("span",{className:"h-f2"},"\u5356\u5bb6\u5de5\u4f5c\u53f0")),s.a.createElement("div",{className:"head-r f_r f_wrap"},s.a.createElement("div",{className:"h-r-item f_L"},s.a.createElement("div",null,"\u63cf\u8ff0\u76f8\u7b26")),s.a.createElement("div",{className:"h-r-item f_L"},s.a.createElement("div",null,"\u670d\u52a1\u6001\u5ea6")),s.a.createElement("div",{className:"h-r-item f_L"},s.a.createElement("div",null,"\u7269\u6d41\u670d\u52a1"))))),s.a.createElement("div",{className:"h-body f_wrap"},s.a.createElement("div",{className:"list1-wrap f_L"},s.a.createElement("div",{className:"user-info-wrap f_wrap"},s.a.createElement("div",{className:"u-avatar f_L"},s.a.createElement("img",{src:"".concat(W,"/image/store/logo/").concat(t.storeLogo),alt:t.storeName})),s.a.createElement("div",{className:"u-storename-wrap f_L"},s.a.createElement("div",{className:"u-storename"},s.a.createElement("span",{className:"f2"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("string"!==typeof e||e.length<=t)return e;var a=e.substring(0,t),n=a.match(/[\u0000-\u00FF]/g);if(!n)return a;for(var s=0,r=a.length;r<e.length&&!((s+=/^[\u0000-\u00FF]$/.test(e[r])?1:2)+1>=n.length);r++);return a+e.substring(a.length,a.length+s)}(t.storeName,7)))),s.a.createElement("div",{onClick:this.toggleChatWindowHandler.bind(this),className:"chat-bar"},this.props.notReadChatLength>0?s.a.createElement("div",{className:"notread-msg"},this.props.notReadChatLength):s.a.createElement("img",{src:"".concat(W,"/image/ui/frog.png"),alt:"chat"}))),s.a.createElement("div",{className:"oper-wrap"},this.state.operators.map(function(t,a){return s.a.createElement("div",{className:"nav-item-wrap",key:a},s.a.createElement("div",{className:"nav-item f_wrap",onClick:e.handlerRouteChange.bind(e,t.routePath)},s.a.createElement("div",{className:"nav-logo f_L"},s.a.createElement("img",{src:t.logo,alt:t.routeName})),s.a.createElement("div",{className:D()("oper-bar f_L",{"bar-seleced":e.state.route===t.routePath})},t.routeName),s.a.createElement("div",{className:"nav-icon f_r"},s.a.createElement("img",{src:"".concat(W,"/image/ui/").concat(e.state.route===t.routePath?"down":"right",".png")}))),s.a.createElement("div",{className:"nav-box"},e.state.route===t.routePath&&t.navs.map(function(e,t){return s.a.createElement("div",{className:"nav-cho-i",key:t},s.a.createElement("a",{href:e.path},e.navName))})))}))),s.a.createElement("div",null,s.a.createElement(m.a,null,s.a.createElement(u.a,{path:"/seller/panel/all_order",component:ge}),s.a.createElement(u.a,{path:"/seller/panel/wait_pay",component:ge}),s.a.createElement(u.a,{path:"/seller/panel/wait_send",component:ge}),s.a.createElement(u.a,{path:"/seller/panel/wait_sign",component:ge}),s.a.createElement(u.a,{path:"/seller/panel/wait_comment",component:ge}),s.a.createElement(u.a,{path:"/seller/panel/in_seller",component:Ee}),s.a.createElement(u.a,{path:"/seller/panel/un_seller",component:Ee}),s.a.createElement(u.a,{path:"/seller/panel/chk_products",component:Ee}),s.a.createElement(u.a,{path:"/seller/panel",render:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"current-data f_L"},s.a.createElement(ee,{data:e.state.currentData})),s.a.createElement("div",{className:"backlog f_L"},s.a.createElement(ae,{data:e.state.sellerData})))}})))),s.a.createElement(se,null))}}]),t}(n.Component),Ne=Object(i.b)(function(e){return{user:e.auth.user,hideChat:e.chat.hideChat,notReadChatLength:e.chat.messagesNotRead.reduce(function(e,t){return e+t.notRead},0)}},{toggleChatAction:function(e){return function(t){t({type:"TOGGLE_CHAT",payload:e})}}})(ye),be=a(90),we=(a(78),a(41)),Ce=a.n(we),_e=!1,Oe=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={account:"",password:"",errors:{}},a.inputChange=a.inputChange.bind(Object(oe.a)(a)),a.inputFocus=a.inputFocus.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){window.document.title="\u4f18\u9009--\u8d26\u6237\u767b\u5f55"}},{key:"inputChange",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"inputFocus",value:function(e){this.setState({errors:Object(f.a)({},this.state.errors,Object(pe.a)({},e.target.name,""))})}},{key:"formSubmit",value:function(e){var t=this;if(e.preventDefault(),_e)return this.props.alertMessageAction("\u8d26\u6237\u9a8c\u8bc1\u4e2d");var a={};if(E(this.state.account)&&(a.account="\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a"),/^[\w,';)(!~\xb7`\/\\{}"<>?+-=_.]{6,25}$/.test(this.state.password)||(a.password="\u5bc6\u7801\u683c\u5f0f\u6709\u8bef"),Object.keys(a).length>0)return this.setState({errors:a});_e=!0;var n=this.refs.submit;n.value="\u767b\u5f55\u4e2d...",d.a.get("".concat(F,"/api/users/rsa_public?account=").concat(this.state.account)).then(function(e){var a=e.data;if(!a.success)return t.setState({errors:{submit:a.message}});var s=new window.JSEncrypt;s.setPublicKey(a.payload);var r=s.encrypt(Ce.a.hash(t.state.password));d.a.post("".concat(F,"/api/users/seller_login"),{account:t.state.account,password:r}).then(function(e){var a=e.data;if(_e=!1,!a.success)return t.setState({errors:{submit:a.message}});$(a.payload.token),U(a.payload.user),t.props.history.push(t.props.prev)}).catch(function(e){_e=!1,n.innerText="\u767b\u5f55",t.setState({errors:{submit:e.message||"\u670d\u52a1\u5668\u5fd9"}})})}).catch(function(e){_e=!1,n.innerText="\u767b\u5f55",t.setState({errors:{submit:e.message||"\u670d\u52a1\u5668\u5fd9"}})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"l-input-wrap",onSubmit:this.formSubmit.bind(this),method:"POST"},s.a.createElement("div",{className:"log-input1"},s.a.createElement("label",{htmlFor:"account",style:{background:"url(".concat(F,"/image/ui/").concat(this.state.errors.account?"account_failed.png":"account.png",") center center / 30px 30px no-repeat")}}),s.a.createElement("input",{onFocus:this.inputFocus,onChange:this.inputChange,value:this.state.account,placeholder:"\u6635\u79f0 / \u624b\u673a\u53f7\u7801",name:"account",id:"account",type:"text",autoComplete:"off"})),this.state.errors.account&&s.a.createElement("div",{className:"acc-log-err"},this.state.errors.account),s.a.createElement("div",{className:"log-input2"},s.a.createElement("label",{htmlFor:"password",style:{background:"url(".concat(F,"/image/ui/").concat(this.state.errors.password?"lock_failed.png":"lock.png",") center center / 30px 30px no-repeat")}}),s.a.createElement("input",{onFocus:this.inputFocus,type:"password",placeholder:"\u5bc6\u7801",name:"password",id:"password",onChange:this.inputChange,value:this.state.password})),this.state.errors.password&&s.a.createElement("div",{className:"acc-log-err"},this.state.errors.password),s.a.createElement("input",{ref:"submit",className:"account-log-submit",type:"submit",value:"\u767b\u5f55"}),this.state.errors.submit&&s.a.createElement("div",{className:"acc-log-err acc-log-err-submit"},this.state.errors.submit)))}}]),t}(s.a.Component),ke=Object(re.a)(Object(i.b)(function(e){return{auth:e.auth}},{alertMessageAction:le})(Oe)),je=59,Se=!1,Ae=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={phone:"",sms:"",errors:{}},a.inputChange=a.inputChange.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){window.document.title="\u4f18\u9009--\u624b\u673a\u767b\u5f55"}},{key:"inputChange",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"sendSMS",value:function(e){var t=this;if(Se)return this.props.alertMessageAction("\u8bf7 ".concat(je," \u79d2\u540e\u91cd\u8bd5"));if(!y(this.state.phone))return this.setState({errors:Object(f.a)({},this.state.errors,{phone:"\u624b\u673a\u53f7\u7801\u9519\u8bef"})});var a=e.currentTarget;je=59,Se=!0,a.style.backgroundColor="#eee";var n=setInterval(function(){a.innerText="\u518d\u6b21\u53d1\u9001(".concat(je,")"),0===--je&&(clearInterval(n),a.innerText="\u53d1\u9001\u9a8c\u8bc1\u7801",a.style.backgroundColor="")},1e3);d.a.post(F+"/api/operator/testsms",{phone:this.state.phone}).then(function(e){var a=e.data;if(console.log(a),!a.success)return t.setState({errors:Object(f.a)({},t.state.errors,{sms:a.message})});t.props.alertMessageAction("\u53d1\u9001\u6210\u529f\u8bf7\u67e5\u6536\u9a8c\u8bc1\u7801")}).catch(function(e){t.setState({errors:Object(f.a)({},t.state.errors,{msm:e.message||"server busy"})})})}},{key:"submit",value:function(){var e=this,t={};if(y(this.state.phone)||(t.phone="\u624b\u673a\u53f7\u683c\u5f0f\u6709\u8bef"),/^[1-9]\d{5}$/.test(this.state.sms)||(t.sms="\u9a8c\u8bc1\u7801\u683c\u5f0f\u6709\u8bef"),Object.keys(t).length>0)return this.setState({errors:t});var a={phone:this.state.phone,sms_code:this.state.sms};d.a.post("".concat(F,"/api/users/phonelogin"),a).then(function(t){if(!t.data.success)return e.setState({errors:Object(f.a)({},e.state.errors,{submit:t.data.message})});$(t.data.payload.token),U(t.data.payload.user),e.props.history.push(e.props.prev)}).catch(function(t){e.setState({errors:Object(f.a)({},e.state.errors,{submit:t.response?t.response.message:"\u670d\u52a1\u5668\u5fd9"})})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"l-input-wrap"},s.a.createElement("div",{className:"log-input1"},s.a.createElement("label",{htmlFor:"phone",style:{background:"url(".concat(F,"/image/ui/").concat(this.state.errors.phone?"mobile_failed.png":"mobile.png",") center center / 30px 30px no-repeat")}}),s.a.createElement("input",{placeholder:"\u8f93\u5165\u624b\u673a\u53f7\u7801",onChange:this.inputChange,value:this.state.phone,name:"phone",id:"phone",type:"text",autoComplete:"off"}),s.a.createElement("div",null)),this.state.errors.phone&&s.a.createElement("div",{className:"acc-log-err"},this.state.errors.phone),s.a.createElement("div",{className:"log-input2"},s.a.createElement("label",{htmlFor:"sms",style:{background:"url(".concat(F,"/image/ui/").concat(this.state.errors.sms?"lock_failed.png":"lock.png",") center center / 30px 30px no-repeat")}}),s.a.createElement("input",{placeholder:"\u586b\u5199\u9a8c\u8bc1\u7801",onChange:this.inputChange,value:this.state.sms,name:"sms",id:"sms",type:"text"}),s.a.createElement("button",{className:"log-sendsms",onClick:this.sendSMS.bind(this)},"\u53d1\u9001\u9a8c\u8bc1\u7801")),this.state.errors.sms&&s.a.createElement("div",{className:"acc-log-err"},this.state.errors.sms),s.a.createElement("input",{type:"submit",className:"account-log-submit",onClick:this.submit.bind(this),value:"\u767b\u5f55"}),this.state.errors.submit&&s.a.createElement("div",{className:"acc-log-err acc-log-err-submit"},this.state.errors.submit))}}]),t}(s.a.Component),xe=Object(re.a)(Object(i.b)(function(e){return{auth:e.auth}})(Ae)),Te=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={loginWay:"phone",prev:"/seller/panel"},a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.location.search,t=this.state.prev;if("string"===typeof e&&/prev=.+/.test(e)){var a=e.match(/prev=.+?(&|\b)/g)[0];a&&(a=a.substring(5),t=/&$/.test(a)?a.substring(0,a.length-1):a)}if(this.props.isAuthorized)return this.props.history.push(G(t));t!==this.state.prev&&this.setState({prev:G(t,!0)})}},{key:"componentWillReceiveProps",value:function(e){if(e.isAuthorized)return e.history.push(this.state.prev)}},{key:"changeLoginWay",value:function(e){e!==this.state.loginWay&&this.setState({loginWay:e})}},{key:"render",value:function(){return!0===this.props.isAuthorized?s.a.createElement(l.a,{to:this.state.prev}):s.a.createElement("div",{className:"login-body"},s.a.createElement(ie,null),s.a.createElement("div",{className:"login-head f_wrap"},s.a.createElement("div",{className:"main-logo f_L"},s.a.createElement("img",{src:"".concat(W,"/image/seller/home_logo_blue.png"),alt:""})),s.a.createElement("div",{className:"login-msg f_r"},"\u4e3a\u786e\u4fdd\u60a8\u8d26\u6237\u7684\u5b89\u5168\u53ca\u6b63\u5e38\u4f7f\u7528\uff0c\u4f9d\u300a\u7f51\u7edc\u5b89\u5168\u6cd5\u300b\u76f8\u5173\u8981\u6c42\uff0c6\u67081\u65e5\u8d77\u4f1a\u5458\u8d26\u6237\u9700\u7ed1\u5b9a\u624b\u673a\u3002\u5982\u60a8\u8fd8\u672a\u7ed1\u5b9a\uff0c\u8bf7\u5c3d\u5feb\u5b8c\u6210\uff0c\u611f\u8c22\u60a8\u7684\u7406\u89e3\u53ca\u652f\u6301\uff01")),s.a.createElement("div",{className:"login-wrap"},s.a.createElement("div",{className:"login-title"}),s.a.createElement("div",{className:"login-form"},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form-t"},s.a.createElement("div",{onClick:this.changeLoginWay.bind(this,"phone"),className:"phone"===this.state.loginWay?"t-l f1":"t-l f2"},"\u624b\u673a\u767b\u5f55"),s.a.createElement("div",{onClick:this.changeLoginWay.bind(this,"account"),className:"account"===this.state.loginWay?"t-l f1":"t-l f2"},"\u8d26\u6237\u767b\u5f55")),s.a.createElement("main",null,"phone"===this.state.loginWay?s.a.createElement(xe,{prev:this.state.prev}):s.a.createElement(ke,{prev:this.state.prev})),s.a.createElement("div",{className:"to-registory"},s.a.createElement(be.a,{to:"/seller/register"},"\u514d\u8d39\u6ce8\u518c"))))),s.a.createElement(se,null))}}]),t}(n.Component);var Ie=Object(i.b)(function(e){return{isAuthorized:e.auth.isAuthorized,isVerify:e.auth.isVerify}},null)(Te),Me=(a(79),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={phone:"",smscode:"",errors:{}},a.myState={smsSending:!1},a.fieldChangeHandler=a.fieldChangeHandler.bind(Object(oe.a)(a)),a.smsCodeClickHandler=a.smsCodeClickHandler.bind(Object(oe.a)(a)),a.validator=a.validator.bind(Object(oe.a)(a)),a.nextStepSubmit=a.nextStepSubmit.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"validator",value:function(){var e={};return y(this.state.phone)||(e.phone="\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"),/^[1-9]\d{5}$/.test(this.state.smscode)||(e.smscode="\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),e}},{key:"fieldChangeHandler",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"smsCodeClickHandler",value:function(e){var t=this;if(this.myState.smsSending)return this.props.alertMessageAction("\u9a8c\u8bc1\u7801\u53d1\u9001\u4e2d");if(this.validator().phone)return this.props.alertMessageAction("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e");var a=e.currentTarget;a.style.backgroundColor="rgb(226,225,225)",a.style.color="rgba(148,139,139)";var n=0,s=60;d.a.post("".concat(F,"/api/operator/testsms"),{phone:this.state.phone}).then(function(e){var r=e.data;if(console.log(r),!r.success)return t.setState({smscode:r.message});n=window.setInterval(function(){if(--s<=0)return a.innerText="\u83b7\u53d6\u9a8c\u8bc1\u7801",a.style.backgroundColor="",a.style.color="",window.clearInterval(n);a.innerText="\u518d\u6b21\u53d1\u9001"+s},1e3),t.props.alertMessageAction("\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u6ce8\u610f\u67e5\u6536")}).catch(function(e){console.error(e)})}},{key:"nextStepSubmit",value:function(){var e=this;if(0!==Object.keys(this.validator()).length)return this.props.alertMessageAction("\u8bf7\u5b8c\u5584\u4fe1\u606f\u540e\u63d0\u4ea4");d.a.post("".concat(B,"/api/seller/store/code"),{phone:this.state.phone,code:this.state.smscode}).then(function(t){var a=t.data;if(!a.success)return e.setState({errors:Object(f.a)({},e.state.errors,{smscode:a.message})});e.props.step1FinishAction(e.state.phone,a.payload)}).catch(function(t){e.setState({errors:Object(f.a)({},e.state.errors,{smscode:t.message||"\u670d\u52a1\u5668\u5fd9"})})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"step1-wrap"},s.a.createElement("div",{className:"step1-item phone-item"},s.a.createElement("label",{htmlFor:"phone"},"\u4f1a\u5458\u624b\u673a"),s.a.createElement("input",{className:D()({letter:""!==this.state.phone}),onChange:this.fieldChangeHandler,value:this.state.account,placeholder:"\u8bf7\u8f93\u5165\u4e70\u5bb6\u624b\u673a\u53f7\u7801",autoComplete:"off",name:"phone",type:"text",id:"phone"})),this.state.errors.phone&&s.a.createElement("div",{className:"form-err"},this.state.errors.phone),s.a.createElement("div",{className:"step1-item sms-item"},s.a.createElement("label",{htmlFor:"smscode"},"\u624b\u673a\u9a8c\u8bc1"),s.a.createElement("input",{className:D()("sms-input",{letter:""!==this.state.smscode}),onChange:this.fieldChangeHandler,value:this.state.smscode,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",autoComplete:"off",name:"smscode",type:"text",id:"smscode"}),s.a.createElement("button",{className:"sms-btn",onClick:this.smsCodeClickHandler},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),this.state.errors.smscode&&s.a.createElement("div",{className:"form-err"},this.state.errors.smscode),s.a.createElement("button",{onClick:this.nextStepSubmit,className:D()("next-btn",{"next-wait":0!==Object.keys(this.validator()).length})},"\u4e0b\u4e00\u6b65"))}}]),t}(n.Component)),Pe=Object(i.b)(null,{alertMessageAction:le,step1FinishAction:function(e,t){return function(a){a({type:"STEP1_FINISH",payload:{account:e,userId:t}})}}})(Me),Le=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={storeName:"",idCard:"",reallyName:"",errors:{storeName:""}},a.validator=a.validator.bind(Object(oe.a)(a)),a.fieldChangeHandler=a.fieldChangeHandler.bind(Object(oe.a)(a)),a.checkStoreNameRepeat=a.checkStoreNameRepeat.bind(Object(oe.a)(a)),a.step2SubmitHandler=a.step2SubmitHandler.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"validator",value:function(){var e={};return this.state.storeName||(e.storeName="\u5e97\u94fa\u540d\u4e0d\u80fd\u4e3a\u7a7a"),/^([1-9]\d{14}|[1-9]\d{17})$/.test(this.state.idCard)||(e.idCard="\u8eab\u4efd\u8bc1\u683c\u5f0f\u6709\u8bef"),/^.{1,5}$/.test(this.state.reallyName)||(e.reallyName="1-5\u4f4d\u771f\u5b9e\u59d3\u540d\u6709\u8bef"),e}},{key:"fieldChangeHandler",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"checkStoreNameRepeat",value:function(){}},{key:"step2SubmitHandler",value:function(){var e=this.validator();if(0!==Object.keys(e).length)return this.setState({errors:e});console.log("\u63d0\u4ea4\u6210\u529f");var t={userId:this.props.register.userId+"",merchantName:this.state.storeName,relName:this.state.relName,idCard:this.state.idCard};d.a.post("".concat(B,"/api/seller/store"),t).then(function(e){var t=e.data;console.log(t)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"step2-wrap"},s.a.createElement("div",{className:"step2-item f_wrap"},s.a.createElement("label",{className:"f_L",htmlFor:"storeName"},"\u5e97\u94fa\u540d\u79f0"),s.a.createElement("input",{onBlur:this.checkStoreNameRepeat,onChange:this.fieldChangeHandler,className:"f_r",value:this.state.storeName,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u5e97\u94fa\u540d\u79f0",autoComplete:"off",name:"storeName",type:"text",id:"storeName"})),this.state.errors.storeName&&s.a.createElement("div",{className:"form-err"},this.state.errors.storeName),s.a.createElement("div",{className:"step2-item f_wrap"},s.a.createElement("label",{className:"f_L",htmlFor:"idCard"},"\u8eab\u4efd\u8bc1\u53f7\u7801"),s.a.createElement("input",{onChange:this.fieldChangeHandler,className:"f_r",value:this.state.idCard,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8eab\u4efd\u8bc1\u53f7\u7801",autoComplete:"off",name:"idCard",type:"text",id:"idCard"})),this.state.errors.idCard&&s.a.createElement("div",{className:"form-err"},this.state.errors.idCard),s.a.createElement("div",{className:"step2-item f_wrap"},s.a.createElement("label",{className:"f_L",htmlFor:"reallyName"},"\u771f\u5b9e\u59d3\u540d"),s.a.createElement("input",{onChange:this.fieldChangeHandler,className:"f_r",value:this.state.reallyName,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u771f\u5b9e\u59d3\u540d",autoComplete:"off",name:"reallyName",type:"text",id:"reallyName"})),this.state.errors.reallyName&&s.a.createElement("div",{className:"form-err"},this.state.errors.reallyName),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.step2SubmitHandler,className:D()("next-btn",{"next-wait":0!==Object.keys(this.validator()).length})},"\u786e\u8ba4\u63d0\u4ea4")))}}]),t}(n.Component);var He=Object(i.b)(function(e){return{register:e.register}},{step2FinishAction:function(e){return function(t){t({type:"STEP2_FINISH",payload:e})}}})(Le);var Re=Object(re.a)(Object(i.b)(function(e){return{storeName:e.register.storeName}})(function(e){return s.a.createElement("div",{className:"step3-wrap"},s.a.createElement("div",{className:"s3-body"},s.a.createElement("div",{className:"s3-info"},s.a.createElement("span",null,"\u606d\u559c\u60a8\u7684\u5e97\u94fa"),s.a.createElement("span",{className:"s3-storeName"},e.storeName),s.a.createElement("span",null,"\u5df2\u7ecf\u6ce8\u518c\u6210\u529f\uff0c\u7b49\u5f85\u7ba1\u7406\u5458\u5ba1\u6838")),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.history.push("/seller/login")},className:"s3-ok"},"\u786e\u8ba4"))))})),De=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={},a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"regist"},s.a.createElement(ie,null),s.a.createElement("div",{className:"regist-head"},s.a.createElement("div",{className:"regi-head-box f_wrap"},s.a.createElement("div",{className:"f-logo f_L"},s.a.createElement("img",{src:"".concat(W,"/image/seller/seller-regi-logo.png"),alt:"seller-logo"})),s.a.createElement("div",{className:"f-tit f_L"},"\u5356\u5bb6\u6ce8\u518c"))),s.a.createElement("div",{className:"regist-body"},s.a.createElement("div",{className:"step-wrap f_wrap"},s.a.createElement("div",{className:D()("step-one f_L",{"f-flush":this.props.step>=1})},s.a.createElement("span",{className:"f-icon"},"1"),s.a.createElement("span",{className:"f-step"},"\u8eab\u4efd\u9a8c\u8bc1")),s.a.createElement("div",{className:D()("step-one f_L",{"f-flush":this.props.step>=2})},s.a.createElement("span",{className:"f-icon"},"2"),s.a.createElement("span",{className:"f-step"},"\u586b\u5199\u8d26\u6237\u4fe1\u606f")),s.a.createElement("div",{className:D()("step-one f_L",{"f-flush":3===this.props.step})},s.a.createElement("span",{className:"f-icon"},"3"),s.a.createElement("span",{className:"f-step"},"\u6ce8\u518c\u6210\u529f"))),s.a.createElement("div",null,3===this.props.step?s.a.createElement(Re,null):2===this.props.step?s.a.createElement(He,null):s.a.createElement(Pe,null))),s.a.createElement(se,null))}}]),t}(n.Component);var Fe=Object(i.b)(function(e){return{step:e.register.step}})(De),We=a(24),Be=a.n(We),Ge=(a(82),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={choose:[],showSmaill:!1,showDetail:!1,errors:{category:""}},a.handlerCategorySubmit=a.handlerCategorySubmit.bind(Object(oe.a)(a)),a.isFinishChoose=a.isFinishChoose.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){var e=this;if("object"===typeof window){var t=window.localStorage.getItem("productType");try{if(t)return t=JSON.parse(t),this.props.setBigType(t)}catch(a){console.error("localStorage category error\uff1a",a)}}d.a.get("".concat(F,"/api/goods/type?type=big")).then(function(t){var a=t.data;a.success&&(e.props.setBigType(a.payload),"object"===typeof window&&window.localStorage.setItem("productType",JSON.stringify(a.payload)))}).catch(function(t){e.setState({errors:Object(f.a)({},e.state.errors,{category:"\u8bfb\u53d6\u7c7b\u76ee\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"})})})}},{key:"handlerTypeClick",value:function(e,t){var a=this,n=this.state.choose;if("big"===t&&this.state.choose[0]!==e)return this.props.type.find(function(t){return t._id===e}).smaillType?this.setState({choose:[e],showSmaill:!0,showDetail:!1}):void d.a.get("".concat(F,"/api/goods/type?type=smaill&bigid=").concat(e)).then(function(t){var n=t.data;n.success&&(a.props.setSmaillType(e,n.payload),a.setState({choose:[e],showSmaill:!0,showDetail:!1},function(){"object"===typeof window&&(console.log("setSmailType"),window.localStorage.setItem("productType",JSON.stringify(a.props.type)))}))}).catch(function(e){});"smaill"!==t||this.state.choose[1]===e?"detail"===t&&this.state.choose[2]!==e&&(n[2]=e,this.setState({choose:n})):this.setState({choose:[n[0],e],showDetail:!0})}},{key:"isFinishChoose",value:function(){var e=this;return[1,1].reduce(function(t,a,n){return t&&!!e.state.choose[n+1]},!!this.state.choose[0])}},{key:"handlerCategorySubmit",value:function(){if(!this.isFinishChoose())return this.props.alertMessageAction("\u8bf7\u5148\u9009\u62e9\u7c7b\u76ee");this.props.setCategoryChoose(this.state.choose),this.props.history.push("/seller/product_issue")}},{key:"render",value:function(){var e=this,t=this.props.type,a=this.state.choose[0]?t.find(function(t){return t._id===e.state.choose[0]}):null,n=a&&this.state.showSmaill?a.smaillType:null,r=n&&this.state.showDetail&&this.state.choose[1]?n.find(function(t){return t._id===e.state.choose[1]}).detail:null;return s.a.createElement("div",{className:"category"},s.a.createElement(ie,null),s.a.createElement("div",{className:"category-wrap"},s.a.createElement("h2",{className:"category-head"},"\u9009\u62e9\u7c7b\u76ee"),s.a.createElement("div",null,s.a.createElement("div",null,this.state.errors.category&&s.a.createElement("div",null,this.state.errors.category)),s.a.createElement("div",{className:"cho-wrap"},s.a.createElement("div",{className:"cho-onece"},t&&t.map(function(t,a){return s.a.createElement("div",{className:D()("cho-item",{"cho-chosen":e.state.choose[0]===t._id}),onClick:e.handlerTypeClick.bind(e,t._id,"big"),key:a},t.bigName)})),s.a.createElement("div",{className:"cho-onece",style:{borderColor:n?null:"#ccc"}},s.a.createElement(Be.a,null,n&&n.map(function(t,a){return s.a.createElement("div",{className:D()("cho-item",{"cho-chosen":e.state.choose[1]===t._id}),onClick:e.handlerTypeClick.bind(e,t._id,"smaill"),key:a},t.smaillName)}))),s.a.createElement("div",{className:"cho-onece",style:{borderColor:r?null:"#ccc"}},s.a.createElement(Be.a,null,r&&r.map(function(t,a){return s.a.createElement("div",{className:D()("cho-item",{"cho-chosen":e.state.choose[2]===t._id}),onClick:e.handlerTypeClick.bind(e,t._id,"detail"),key:a},t.detailName)})))),a&&s.a.createElement("div",{className:"current-cate-wrap"},s.a.createElement("div",{className:"curr-cate-box f_wrap"},s.a.createElement("div",{className:"f_L"},"\u60a8\u5f53\u524d\u9009\u62e9\u7c7b\u76ee\u4e3a\uff1a"),s.a.createElement("div",{className:"f_L f_wrap"},this.state.choose.map(function(e,t){return 0===t?s.a.createElement("div",{className:"curr-item f_L",key:t},a.bigName):1===t?s.a.createElement("div",{className:"curr-item f_L",key:t},s.a.createElement("span",{className:"curr-gt"},">"),s.a.createElement("span",null,n.find(function(t){return t._id===e}).smaillName)):s.a.createElement("div",{className:"curr-item f_L",key:t},s.a.createElement("span",{className:"curr-gt"},">"),s.a.createElement("span",null,r.find(function(t){return t._id===e}).detailName))})))),s.a.createElement("div",null,s.a.createElement("div",{onClick:this.handlerCategorySubmit,className:D()("c-submit",{"c-submit-disable":!this.isFinishChoose()})},"\u6211\u5df2\u9605\u8bfb\u4ee5\u4e0b\u89c4\u5219\uff0c\u73b0\u5728\u53d1\u5e03\u5b9d\u8d1d"))),s.a.createElement("div",{className:"readme"},s.a.createElement(Be.a,null,s.a.createElement("p",null,"\u4f18\u9009\u89c4\u5219"),s.a.createElement("p",null,"\u7b2c\u4e00\u7ae0 \u6982\u8ff0"),s.a.createElement("span",null,"1.\u4f18\u9009\u7981\u6b62\u53d1\u5e03\u4fb5\u72af\u4ed6\u4eba\u77e5\u8bc6\u4ea7\u6743\u7684\u5546\u54c1\uff0c\u8bf7\u786e\u8ba4\u5546\u54c1\u7b26\u5408\u77e5\u8bc6\u4ea7\u6743\u4fdd\u62a4\u7684\u89c4\u5b9a"),s.a.createElement("br",null),s.a.createElement("span",null,"2.choice.com(\u4f18\u9009)\u670d\u52a1\u534f\u8bae\u300b\uff0c\u5236\u5b9a\u672c\u89c4\u5219\u3002"),s.a.createElement("br",null),s.a.createElement("span",null,"3.\u4f18\u9009\u89c4\u5219\uff0c\u662f\u5bf9\u4f18\u9009\u7528\u6237\u589e\u52a0\u57fa\u672c\u4e49\u52a1\u6216\u9650\u5236\u57fa\u672c\u6743\u5229\u7684\u6761\u6b3e\u3002 "),s.a.createElement("br",null),s.a.createElement("span",null,"4.\u8fdd\u89c4\u884c\u4e3a\u7684\u8ba4\u5b9a\u4e0e\u5904\u7406\uff0c\u5e94\u57fa\u4e8e\u4f18\u9009\u8ba4\u5b9a\u7684\u4e8b\u5b9e\u5e76\u4e25\u683c\u4f9d\u89c4\u6267\u884c\u3002\u4f18\u9009\u7528\u6237\u5728\u9002\u7528\u89c4\u5219\u4e0a\u4e00\u5f8b\u5e73\u7b49\u3002"),s.a.createElement("br",null),s.a.createElement("p",null,"\u7b2c\u4e8c\u7ae0 \u4ea4\u6613"),s.a.createElement("span",null,"1.\u4f1a\u5458\u5e94\u5f53\u4e25\u683c\u9075\u5faa\u4f18\u9009\u7cfb\u7edf\u8bbe\u7f6e\u7684\u6ce8\u518c\u6d41\u7a0b\u5b8c\u6210\u6ce8\u518c\u3002\u4f1a\u5458\u5728\u9009\u62e9\u5176\u4f18\u9009\u4f1a\u5458\u540d\u3001\u4f18\u9009\u5e97\u94fa\u540d\u6216\u57df\u540d\u65f6\u5e94\u9075\u5b88\u56fd\u5bb6\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u4e0d\u5f97\u5305\u542b\u8fdd\u6cd5\u3001\u6d89\u5acc\u4fb5\u72af\u4ed6\u4eba\u6743\u5229\u6216\u5e72\u6270\u6dd8\u5b9d\u8fd0\u8425\u79e9\u5e8f\u7b49\u76f8\u5173\u4fe1\u606f\u3002\u4f1a\u5458\u540d\u6ce8\u518c\u540e\u65e0\u6cd5\u81ea\u884c\u4fee\u6539\u3002\u4f18\u9009\u6709\u6743\u6536\u56de\u672a\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1\u4e14\u8fde\u7eed\u4e00\u5e74\u672a\u767b\u5f55\u4f18\u9009\u7684\u4f1a\u5458\u540d\u3002 "),s.a.createElement("br",null),s.a.createElement("span",null,"2.\u4f1a\u5458\u7b26\u5408\u4ee5\u4e0b\u4efb\u4e00\u60c5\u5f62\u7684\uff0c\u5176\u4f18\u9009\u8d26\u6237\u4e0d\u5f97\u4e0e\u652f\u4ed8\u5b9d\u8d26\u6237\u53d6\u6d88\u7ed1\u5b9a\uff1a\uff08\u4e00\uff09\u5df2\u901a\u8fc7\u4f18\u9009\u5b9e\u540d\u8ba4\u8bc1\u4e14\u53d1\u5e03\u8fc7\u5546\u54c1\u6216\u521b\u5efa\u8fc7\u5e97\u94fa\uff1b\uff08\u4e8c\uff09\u5c1a\u6709\u672a\u5b8c\u7ed3\u7684\u4ea4\u6613\u6216\u6295\u8bc9\u4e3e\u62a5\uff1b\uff08\u4e09\uff09\u4f18\u9009\u8d26\u6237\u5c1a\u672a\u88ab\u6fc0\u6d3b\u6216\u5c1a\u6709\u88ab\u51bb\u7ed3\u6b3e\u9879\u3002 "),s.a.createElement("br",null)))),s.a.createElement(se,null))}}]),t}(n.Component));var ze=Object(i.b)(function(e){return{type:e.goods.type}},{setBigType:function(e){return function(t){t({type:"SET_BIG_TYPE",payload:e})}},setSmaillType:function(e,t){return function(a){a({type:"SET_SMAILL_TYPE",payload:{bigid:e,smaillType:t}})}},alertMessageAction:le,setCategoryChoose:function(e){return function(t){t({type:"SET_CATEGORY_CHOOSE",payload:e})}}})(Ge);a(83);var $e=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={choose:[],goodName:"",goodFrom:"",properties:[{name:"\u989c\u8272",value:["\u661f\u9645\u7ea2","\u661f\u9645\u84dd"]},{name:"\u989c\u8272",value:["\u661f\u9645\u7ea2","\u661f\u9645\u84dd"]}],specInfo:[{amount:0,price:0}],smaillPicture:[""],infoPicture:[""],logo:"",errors:{}},a.filterProperties=a.filterProperties.bind(Object(oe.a)(a)),a.submitProductIssue=a.submitProductIssue.bind(Object(oe.a)(a)),a.fieldChangeHandler=a.fieldChangeHandler.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.categoryChoose;if(![1,1,1].reduce(function(t,a,n){return t&&!!e[n]},!0))return this.props.history.push("/seller/category");var t=this.props.type.find(function(t){return t._id===e[0]}),a=t.smaillType.find(function(t){return t._id===e[1]}),n=a.detail.find(function(t){return t._id===e[2]});this.setState({choose:[t,a,n]})}},{key:"fieldChangeHandler",value:function(e){this.setState(Object(pe.a)({},e.target.name,e.target.value))}},{key:"propNameChangeHandler",value:function(e,t){var a=this.state.properties;a[e].name=t.target.value,this.setState({properties:a})}},{key:"propValueChangeHandler",value:function(e,t,a){var n=this.state.properties;n[e].value[t]=a.target.value,this.setState({properties:n})}},{key:"propNameBlurHandler",value:function(e){var t=this.state.properties;t[t.length-1].name&&t[e].name&&(t.push({name:"",value:[""]}),this.setState({properties:t}))}},{key:"propValueBlurHandler",value:function(e,t){var a=this.state.properties;a[e].name&&a[e].value[a[e].value.length-1]&&(a[e].value.push(""),this.setState({properties:a}))}},{key:"propNameCancelHandler",value:function(e){if(0!==e){var t=this.state.properties;t.splice(e,1),this.setState({properties:t})}}},{key:"propValueCancelHandler",value:function(e,t){if(0!==t){var a=this.state.properties;a[e].value.splice(t,1),this.setState({properties:a})}}},{key:"specInfoChangeHandler",value:function(e,t){var a=this.state.specInfo;a[e]||(a[e]={});var n=t.target.name,s=t.target.value;if("amount"===n){if(""!==s&&!/^[1-9]\d*$/.test(s))return}else if("price"===n&&""!==s&&!/^[1-9]\d*(\.\d{1,2}|)$/.test(s))return;a[e][t.target.name]=t.target.value,this.setState({specInfo:a})}},{key:"createPictureURL",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"smaillPictureChangeHandler",value:function(e,t){var a=this.state.smaillPicture,n=t.target.files;if(0!==n.length){if(a[e]||1===n.length)a[e]=n[0];else for(var s=e,r=0,c=n.length>5?5:n.length;s<c&&r<n.length;++s&&++r)n[r]?a[s]=n[r]:s--;a.length<5&&a[a.length-1]&&a.push(""),this.setState({smaillPicture:a})}}},{key:"infoPictureChangeHandler",value:function(e,t){var a=this.state.infoPicture,n=t.target.files;if(0!==n.length){if(a[e]||1===n.length)a[e]=n[0];else for(var s=e,r=0,c=n.length;r<c;++s&&++r)n[r]?a[s]=n[r]:s--;a[a.length-1]&&a.push(""),this.setState({infoPicture:a})}}},{key:"logoPictureChangeHandler",value:function(e){var t=e.target.files;0!==t.length&&this.setState({logo:t[0]})}},{key:"smaillPictureDelete",value:function(e){if(!(0===e&&1===this.state.smaillPicture.length||e>=this.state.smaillPicture.length)){var t=this.state.smaillPicture;t[e]&&(t.splice(e,1),this.setState({smaillPicture:t}))}}},{key:"infoPictureDelete",value:function(e){if(!(0===e&&1===this.state.infoPicture.length||e>=this.state.infoPicture.length)){var t=this.state.infoPicture;t[e]&&(t.splice(e,1),this.setState({infoPicture:t}))}}},{key:"filterProperties",value:function(){for(var e=this.state.properties,t={name:[],value:[]},a=0;a<e.length;a++){var n={name:"",value:[]};if(e[a].name&&-1===t.name.findIndex(function(t){return t===e[a].name})){n.name=e[a].name;for(var s=0;s<e[a].value.length;s++)e[a].value[s]&&-1===e[a].value.indexOf(e[a].value[s],s+1)&&n.value.push(e[a].value[s]);n.value.length>0&&(t.name.push(n.name),t.value.push(n.value))}}return t}},{key:"submitProductIssue",value:function(){var e=this;if(!this.props.categoryChoose[2]||!/^[1-9]\d*$/.test(this.props.storeId)||!this.state.goodName||!this.state.goodFrom)return this.props.alertMessageAction("\u8bf7\u5c06\u5b9d\u8d1d\u4fe1\u606f\u586b\u5199\u5b8c\u6574\u540e\u63d0\u4ea4");var t=this.filterProperties(),a=new FormData;a.append("detailId",this.props.categoryChoose[2]),a.append("storeId",this.props.storeId),a.append("goodFrom",this.state.goodFrom),a.append("nowPrice",this.state.specInfo[0].price),a.append("goodName",this.state.goodName),a.append("specName",JSON.stringify(t.name)),a.append("specValue",JSON.stringify(t.value)),a.append("goodDetailInfo",JSON.stringify(this.state.specInfo)),a.append("logo",this.state.logo),this.state.smaillPicture.forEach(function(e){a.append("goodSmaillPicture",e)}),this.state.infoPicture.forEach(function(e){a.append("goodInfoPicture",e)}),d.a.post("".concat(F,"/api/goods/add_product"),a).then(function(t){var a=t.data;if(console.log(a),!a.success)return e.props.alertMessageAction(a.message);var n=function(){return e.props.history.push("/seller/panel/chk_products")};e.props.confirmMessageAction("\u6dfb\u52a0\u6210\u529f\uff0c\u7ba1\u7406\u5458\u5c06\u4f1a\u57281-3\u5c0f\u65f6\u5185\u5ba1\u6838",n,n)}).catch(function(t){e.props.alertMessageAction(t.message||"\u670d\u52a1\u5668\u5fd9")})}},{key:"render",value:function(){var e=this,t=function(e){if(0===e.length)return[[]];for(var t=[],a=[],n=[],s=0,r=e.length;s<r;s++)a[s]=0,n[s]=function(){var t=e[s].length,r=s;return function(){a[r]+1>=t?(a[r]=0,r>0&&n[r-1]()):a[r]++}}();var c=[],i=1;for(s=0,r=e.length;s<r;s++){c[s]=1,i*=e[s].length;for(var o=s+1;o<e.length;o++)c[s]*=e[o].length}for(var l=0;l<i;l++){for(t[l]=[],s=0,r=e.length;s<r;s++)l%c[s]===0&&t[l].push({value:e[s][a[s]],rowspan:c[s]});n[n.length-1]()}return t}(this.filterProperties().value);return s.a.createElement("div",{className:"issue"},s.a.createElement(ie,null),s.a.createElement("div",{className:"issue-head"},s.a.createElement("div",{className:"ih-box"},s.a.createElement("span",{className:"f1"},"\u4f18\u9009\u7f51"),s.a.createElement("span",{className:"f2"},"\u5546\u54c1\u53d1\u5e03"))),s.a.createElement("div",{className:"issue-body"},s.a.createElement("div",{className:"issue-item f_wrap"},s.a.createElement("div",{className:"iss-tit f_L",style:{border:0}},"\u5f53\u524d\u7c7b\u76ee\uff1a"),s.a.createElement("div",{className:"current-cate-wrap f_L"},s.a.createElement("div",{className:"curr-cate-box f_wrap"},this.state.choose.map(function(e,t){return 0===t?s.a.createElement("div",{className:"curr-item f_L",key:t},e.bigName):1===t?s.a.createElement("div",{className:"curr-item f_L",key:t},s.a.createElement("span",{className:"curr-gt"},">"),s.a.createElement("span",null,e.smaillName)):s.a.createElement("div",{className:"curr-item f_L",key:t},s.a.createElement("span",{className:"curr-gt"},">"),s.a.createElement("span",null,e.detailName))})))),s.a.createElement("div",{className:"issue-item"},s.a.createElement("div",{className:"iss-tit"},"\u57fa\u7840\u4fe1\u606f"),s.a.createElement("div",{className:"iss-mini-wrap"},s.a.createElement("div",{className:"iss-detail f_wrap"},s.a.createElement("div",{className:"require f_L"},"\u5b9d\u8d1d\u6807\u9898"),s.a.createElement("div",{className:"good-tit f_L"},s.a.createElement("input",{onChange:this.fieldChangeHandler,value:this.state.goodName,name:"goodName",placeholder:"\u8be6\u7ec6\u7684\u6807\u9898\u8ba9\u5b9d\u8d1d\u66f4\u5bb9\u6613\u641c\u7d22\u5230\u54e6",type:"text"}))),s.a.createElement("div",{className:"iss-detail f_wrap"},s.a.createElement("div",{className:"require f_L"},"\u5b9d\u8d1d\u4ea7\u5730"),s.a.createElement("div",{className:"good-tit f_L"},s.a.createElement("input",{style:{width:"400px"},onChange:this.fieldChangeHandler,value:this.state.goodFrom,name:"goodFrom",placeholder:"\u8bf7\u8f93\u5165\u5b9d\u8d1d\u7684\u6765\u6e90\u5730",type:"text"}))),s.a.createElement("div",{className:"iss-detail"},s.a.createElement("div",{className:"iss-spec f_wrap"},s.a.createElement("div",{className:"require f_L"},"\u5b9d\u8d1d\u89c4\u683c"),s.a.createElement("div",null,s.a.createElement("span",{className:"f-important f_L"},"\u9009\u62e9\u5e38\u89c1\u5c5e\u6027\u53ef\u589e\u52a0\u641c\u7d22/\u5bfc\u8d2d\u7684\u673a\u4f1a"),s.a.createElement("span",{style:{paddingLeft:"10px"}},"(\u793a\u4f8b\uff1a\u989c\u8272 - \u661f\u9645\u7ea2)"))),s.a.createElement("div",{className:"prop-wrap"},this.state.properties.map(function(t,a){return s.a.createElement("div",{className:"iss-onece f_wrap",key:a},s.a.createElement("div",{className:"prop-name-wrap f_L"},s.a.createElement("div",{className:"prop-name"},s.a.createElement("label",{htmlFor:"prop".concat(a)},"\u89c4\u683c\u540d\uff1a"),s.a.createElement("input",{onBlur:e.propNameBlurHandler.bind(e,a),onChange:e.propNameChangeHandler.bind(e,a),id:"prop".concat(a),value:t.name,type:"text"})),a>0&&s.a.createElement("p",{onClick:e.propNameCancelHandler.bind(e,a),title:"\u5220\u9664\u6b64\u89c4\u683c",style:{background:"transparent url(".concat(W,"/image/ui/minus-circle.png) 0px 0px no-repeat"),backgroundSize:"16px 16px"},className:"prop-cancel"})),s.a.createElement("div",{className:"prop-value-wrap f_r f_wrap"},s.a.createElement("div",{className:"f_L"},"\u89c4\u683c\u503c\uff1a"),s.a.createElement("div",{className:"f_r"},t.value.map(function(t,n){return s.a.createElement("div",{className:"prop-value",key:n},s.a.createElement("input",{onBlur:e.propValueBlurHandler.bind(e,a,n),onChange:e.propValueChangeHandler.bind(e,a,n),value:t,type:"text"}),n>0&&s.a.createElement("p",{onClick:e.propValueCancelHandler.bind(e,a,n),title:"\u5220\u9664\u6b64\u5c5e\u6027\u503c",style:{background:"transparent url(".concat(W,"/image/ui/minus-circle.png) 0px 0px no-repeat"),backgroundSize:"16px 16px"},className:"prop-cancel"}))}))))}))))),s.a.createElement("div",{className:"issue-item"},s.a.createElement("div",{className:"iss-tit"},"\u9500\u552e\u4fe1\u606f"),s.a.createElement("div",{className:"iss-table-wrap"},t.length>0&&s.a.createElement("table",{className:"issue-table",style:{margin:"0 auto"},border:"1",cellSpacing:"0",cellPadding:"0"},s.a.createElement("thead",{className:"issue-thead"},s.a.createElement("tr",null,new Array(t[0].length).fill(0).map(function(t,a){return s.a.createElement("td",{key:a},e.state.properties[a].name)}),s.a.createElement("td",null,"\u5e93\u5b58"),s.a.createElement("td",null,"\u4ef7\u683c"))),s.a.createElement("tbody",{className:"issue-tbody"},t.map(function(t,a){return s.a.createElement("tr",{key:a},t.map(function(e,t){return s.a.createElement("td",{rowSpan:e.rowspan,key:t},e.value)}),s.a.createElement("td",null,s.a.createElement("input",{onChange:e.specInfoChangeHandler.bind(e,a),autoComplete:"off",name:"amount",placeholder:"\u5e93\u5b58",type:"text"})),s.a.createElement("td",null,s.a.createElement("input",{onChange:e.specInfoChangeHandler.bind(e,a),autoComplete:"off",name:"price",placeholder:"\u4ef7\u683c",type:"text"})))}))))),s.a.createElement("div",{className:"iss-pics-wrap issue-item"},s.a.createElement("div",{className:"iss-tit"},"\u56fe\u6587\u4fe1\u606f"),s.a.createElement("div",{className:"iss-picture-wrap"},s.a.createElement("div",{className:"iss-pic-item-wrap pic-smaill-wrap"},s.a.createElement("div",{className:"iss-pic-tit"},"\u5b9d\u8d1d\u56fe\u7247 \u6700\u591a5\u5f20"),s.a.createElement("div",{className:"pic-item-wrap f_wrap"},this.state.smaillPicture.map(function(t,a){return s.a.createElement("div",{className:"pic-item f_L",key:a},s.a.createElement("img",{src:t?e.createPictureURL(t):""}),s.a.createElement("input",{key:a,onChange:e.smaillPictureChangeHandler.bind(e,a),type:"file",multiple:""===t}),s.a.createElement("div",{onClick:e.smaillPictureDelete.bind(e,a),className:"pic-cancel"},"\u5220\u9664\u6b64\u56fe\u7247"))}))),s.a.createElement("div",{className:"iss-pic-item-wrap"},s.a.createElement("div",{className:"iss-pic-tit"},"\u56fe\u7247\u4ecb\u7ecd"),s.a.createElement("div",{className:"pic-item-wrap f_wrap"},this.state.infoPicture.map(function(t,a){return s.a.createElement("div",{className:"pic-item f_L",key:a},s.a.createElement("img",{src:t?e.createPictureURL(t):""}),s.a.createElement("input",{key:a,onChange:e.infoPictureChangeHandler.bind(e,a),type:"file",multiple:""===t}),s.a.createElement("div",{onClick:e.infoPictureDelete.bind(e,a),className:"pic-cancel"},"\u5220\u9664\u6b64\u56fe\u7247"))}))),s.a.createElement("div",{className:"iss-pic-item-wrap"},s.a.createElement("div",{className:"iss-pic-tit"},"\u5b9d\u8d1d LOGO"),s.a.createElement("div",{className:"pic-item-wrap"},s.a.createElement("div",{className:"pic-item"},s.a.createElement("img",{src:this.state.logo?this.createPictureURL(this.state.logo):""}),s.a.createElement("input",{onChange:this.logoPictureChangeHandler.bind(this),type:"file"}),s.a.createElement("div",{className:"pic-cancel"},"\u6dfb\u52a0\u56fe\u7247")))))),s.a.createElement("div",{className:"iss-submit"},s.a.createElement("button",{onClick:this.submitProductIssue},"\u63d0\u4ea4\u5b9d\u8d1d\u4fe1\u606f"))),s.a.createElement(se,null))}}]),t}(n.Component);var Ue=Object(i.b)(function(e){return{type:e.goods.type,categoryChoose:e.goods.categoryChoose,storeId:e.auth.user.storeId}},{alertMessageAction:le,confirmMessageAction:me})($e),Ve=a(42),Je=(a(84),function(e){return s.a.createElement("div",{className:"wait-verify"},s.a.createElement("h2",null,e.message))}),Ye="object"===typeof window?s.a.createElement(Je,{message:"\u8d26\u53f7\u8ba4\u8bc1\u4e2d...."}):null;var qe=Object(i.b)(function(e){return{isAuthorized:e.auth.isAuthorized,isVerify:e.auth.isVerify}})(function(e){var t=e.component,a=e.isAuthorized,n=e.isVerify,r=Object(Ve.a)(e,["component","isAuthorized","isVerify"]);return s.a.createElement(u.a,Object.assign({},r,{render:function(e){return a?s.a.createElement(t,e):n?Ye:s.a.createElement(l.a,{to:"/seller/login?prev=".concat(G(e.location.pathname+e.location.search))})}}))});a(85);function Xe(e){var t=e.replace(/{{=\w+\.(jpg|png|icon|gif|jpeg)}}/g,"\u3010\u56fe\u7247\u3011").replace("&lt;","<").replace("&gt;",">");return e.length<19?t:t.substring(0,18)+"..."}var Ke=Object(i.b)(function(e){return{messagesNotRead:Array.isArray(e.chat.messagesNotRead)?e.chat.messagesNotRead:[],messages:Array.isArray(e.chat.messages)?e.chat.messages:[],chatnow:e.chat.chatnow}},{messageNotReadItemToChatAction:function(e){return function(t){return function(){"open"===J.status&&J.ws.send(JSON.stringify({type:"msg_be_read",content:e.userId})),t({type:"MESSAGE_NOT_READ_ITEM_TO_CHAT",payload:e})}}},messageItemToChatAction:function(e){return function(t){return function(){t({type:"MESSAGE_ITEM_TO_CHAT",payload:e})}}}})(function(e){return s.a.createElement("div",{className:"chat-msg-wrap"},[e.messagesNotRead.map(function(t,a){return s.a.createElement("div",{onClick:e.messageNotReadItemToChatAction(t),key:a,className:D()("msg-item",{"msg-item-select":t.userId===e.chatnow})},s.a.createElement("div",{className:"msg-i-userwrap"},s.a.createElement("div",{className:"msg-i-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(t.avatar,") center center / 35px 35px no-repeat")}}),s.a.createElement("div",{className:"msg-i-nickname"},t.nickname)),s.a.createElement("div",{className:"msg-i-wrap"},s.a.createElement("div",{className:"msg-i-disone"},Array.isArray(t.content)&&t.content.length>0?Xe(t.content[t.content.length-1].msg):""),s.a.createElement("div",{className:"msg-i-len"},t.notRead)),s.a.createElement("div",{className:"msg-i-time"},Array.isArray(t.content)&&t.content.length>0?z(t.content[t.content.length-1].creaTime):""))}),e.messages.map(function(t,a){return s.a.createElement("div",{onClick:e.messageItemToChatAction(t),key:a,className:D()("msg-item",{"msg-item-select":t.userId===e.chatnow})},s.a.createElement("div",{className:"msg-i-userwrap"},s.a.createElement("div",{className:"msg-i-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(t.avatar,") center center / 35px 35px no-repeat")}}),s.a.createElement("div",{className:"msg-i-nickname"},t.nickname)),s.a.createElement("div",{className:"msg-i-wrap"},s.a.createElement("div",{className:"msg-i-disone"},e.chatnow!==t.userId&&t.wait?Xe(t.wait):Array.isArray(t.content)&&t.content.length>0?Xe(t.content[t.content.length-1].msg):"")))})])});function Qe(e){return function(){q(e)}}var Ze=Object(i.b)(function(e){return{contacts:Array.isArray(e.chat.contacts)?e.chat.contacts:[]}})(function(e){"open"===J.status&&J.ws.send(JSON.stringify({type:"get_contacts"}));var t=[],a=[];return e.contacts.forEach(function(e){e.isOnline?t.push(e):a.push(e)}),s.a.createElement("div",null,e.contacts.length<1?s.a.createElement("div",null,"\u4f60\u8fd8\u6ca1\u6709\u8054\u7cfb\u4eba\u54e6..."):[t.map(function(e,t){return s.a.createElement("div",{key:t,onClick:Qe(e),className:"chat-contact-item"},s.a.createElement("div",{className:"chatcon-il"},s.a.createElement("img",{src:"".concat(F,"/image/member/avatar/").concat(e.avatar)})),s.a.createElement("p",{title:e.nickname,className:"chatcon-ir"},e.nickname))}),a.map(function(e,t){return s.a.createElement("div",{key:t,onClick:Qe(e),className:"chat-contact-item chat-item-offline"},s.a.createElement("div",{className:"chatcon-il"},s.a.createElement("img",{src:"".concat(F,"/image/member/avatar/").concat(e.avatar)})),s.a.createElement("p",{title:e.nickname,className:"chatcon-ir"},e.nickname))})])}),et=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={searchAns:[],keyword:"",message:""},a.shakeGetAns=a.shakeGetAns().bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"shakeGetAns",value:function(){var e=-1;return function(t){var a=this;clearTimeout(e),e=setTimeout(function(){a.setState({message:"\u641c\u7d22\u4e2d..."}),d.a.get("".concat(F,"/api/users/search_contacts?keyword=").concat(a.state.keyword)).then(function(e){e.data.success&&a.setState({searchAns:e.data.payload,message:0===e.data.payload.length?"\u672a\u641c\u7d22\u5230\u8054\u7cfb\u4eba...":""})}).catch(function(e){console.error(e)})},1e3)}}},{key:"keywordChange",value:function(e){var t=this,a=e.target.value;this.setState({keyword:a},function(){t.shakeGetAns(a)})}},{key:"contactsClick",value:function(e){q(e)}},{key:"addContactsClick",value:function(e){return function(t){t.stopPropagation(),"open"===J.status&&(J.ws.send(JSON.stringify({type:"add_contacts",content:e.userId})),this.setState({searchAns:this.state.searchAns.filter(function(t){return t.userId!==e.userId})}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"chat-search-wrap"},s.a.createElement("div",{className:"chat-s-input"},s.a.createElement("div",{className:"chat-s-i-l"},s.a.createElement("input",{value:this.state.keyword,placeholder:"\u8f93\u5165\u8054\u7cfb\u4eba\u6635\u79f0",onChange:this.keywordChange.bind(this),type:"text"})),s.a.createElement("div",{className:"chat-s-i-r"},"\u70b9\u51fb\u641c\u7d22")),s.a.createElement("div",{className:"chat-s-ans"},Array.isArray(this.state.searchAns)&&0===this.state.searchAns.length?s.a.createElement("div",{className:"con-search-miss"},this.state.message):this.state.searchAns.map(function(t,a){return s.a.createElement("div",{onClick:e.contactsClick.bind(e,t),className:"c-s-item",key:a},s.a.createElement("div",{className:"c-s-i-avatar"},s.a.createElement("img",{src:"".concat(F,"/image/member/avatar/").concat(t.avatar)})),s.a.createElement("div",{className:"c-s-i-nickname"},t.nickname),s.a.createElement("div",{onClick:e.addContactsClick(t).bind(e),className:"c-s-i-btn-add"},"\u52a0\u597d\u53cb"))})))}}]),t}(s.a.Component);function tt(e){if(""===e||"string"!==typeof e)return e;var t=e.match(/[A-z0-9]{10}_\d{8}\.(jpg|jpeg|gif|png|ico)(?=}})/g);if(t){var a=e.split(/{{\=[A-z0-9]{10}_\d{8}\.[jpgenifco]{3,4}}}/i);e=a[0];for(var n=1,s=a.length;n<s;n++)e+='<img chat="'.concat(t[n-1],'" src="').concat(F,"/image/member/chat/").concat(/\.gif$/.test(t[n-1])?t[n-1]:t[n-1]+"_w80.jpg",'">').concat(a[n])}return e}var at=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={hasError:!1,message:"",waitMessage:"",showChatImage:!1,chatImage:""},a.scrollToButton=a.scrollToButton.bind(Object(oe.a)(a)),a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"componentDidMount",value:function(){if("object"===typeof window){this.refs.textarea.ondragenter=function(e){e.preventDefault()},this.refs.textarea.ondragleave=function(e){e.preventDefault()},this.refs.textarea.ondragover=function(e){e.preventDefault()};var e=this;this.refs.textarea.ondrop=function(t){if(t.preventDefault(),t.stopPropagation(),e.props.chat.chatnow){var a=t.dataTransfer.files[0];if(a&&!(a.size>"5048576\u202c")&&/^image\/(jpeg|png|gif|x-icon)$/.test(a.type)){var n=new FormData;n.append("picture",a);var s='<waitimg size="'.concat(a.size,'"><img src="').concat(F,'/image/ui/wait.gif"></waitimg>');e.setState({waitMessage:e.refs.textarea.innerHTML+=s}),d.a.post("".concat(F,"/api/users/save_chat_image"),n).then(function(t){if(t.data.success){var a=e.refs.textarea.innerHTML.replace(s,'<img src="'.concat(F,"/image/member/chat/").concat(t.data.payload,'_w80.jpg">'));return e.setState({waitMessage:a},function(){e.props.setWaitMessageAction(a)})}e.setState({waitMessage:e.refs.textarea.innerHTML.replace(s,"")})}).catch(function(t){console.error(t),e.setState({waitMessage:e.refs.textarea.innerHTML.replace(s,"")})})}}},document.getElementsByClassName("chatw-show-wrap")[0].onclick=function(t){var a=t.target.getAttribute("chat");a&&/^\w{10}_\d{7,9}\.(jpg|png|gif|icon|jpeg)$/.test(a)&&e.setState({showChatImage:!0,chatImage:a})}}}},{key:"chatImageChange",value:function(e){var t=this;if(t.props.chat.chatnow){var a=e.currentTarget.files[0];if(a&&!(a.size>"5048576\u202c")&&/^image\/(jpeg|png|gif|x-icon)$/.test(a.type)){var n=new FormData;n.append("picture",a);var s='<waitimg size="'.concat(a.size,'"><img src="').concat(F,'/image/ui/wait.gif"></waitimg>');t.setState({waitMessage:t.refs.textarea.innerHTML+=s}),d.a.post("".concat(F,"/api/users/save_chat_image"),n).then(function(e){if(e.data.success){var a=t.refs.textarea.innerHTML.replace(s,'<img src="'.concat(F,"/image/member/chat/").concat(e.data.payload,'_w80.jpg">'));return t.setState({waitMessage:a},function(){t.props.setWaitMessageAction(a)})}t.setState({waitMessage:t.refs.textarea.innerHTML.replace(s,"")})}).catch(function(e){console.error(e),t.setState({waitMessage:t.refs.textarea.innerHTML.replace(s,"")})})}}}},{key:"componentWillUnmount",value:function(){"object"===typeof window&&(this.refs.textarea.ondragenter=null,this.refs.textarea.ondragleave=null,this.refs.textarea.ondragover=null,this.refs.textarea.ondrop=null)}},{key:"componentWillReceiveProps",value:function(e,t){if("object"===typeof window){var a=this.props.chat;if(a.chatnow!==e.chat.chatnow){var n=e.chat.messages.find(function(t){return t.userId===e.chat.chatnow});n&&n.wait?this.refs.textarea.innerHTML=n.wait:this.refs.textarea.innerText="",this.scrollToButton()}else{var s=a.messages.find(function(e){return e.userId===a.chatnow}),r=e.chat.messages.find(function(t){return t.userId===e.chat.chatnow});s&&r&&Array.isArray(s.content)&&Array.isArray(r.content)&&s.content.length!==r.content.length&&this.scrollToButton()}this.refs.textarea.focus()}}},{key:"scrollToButton",value:function(){var e=this;setTimeout(function(){e.refs.chatMessageBox.scrollTop=e.refs.chatMessageBox.scrollHeight,setTimeout(function(){e.refs.chatMessageBox.scrollTop=e.refs.chatMessageBox.scrollHeight},200)},100)}},{key:"closeChatImage",value:function(){this.setState({showChatImage:!1,chatImage:""})}},{key:"swingChatWindow",value:function(){this.props.swingChatWindowAction(!0)}},{key:"sendMessage",value:function(){var e=this.refs.textarea.innerHTML.trim().replace(new RegExp("<waitimg>[\\d\\D]+</waitimg>"),"");if(""!==e&&this.props.chat.chatnow){var t=e.match(/[A-z0-9]{10}_\d{8}\.(gif|png|jpg|jpeg|ico)(?=_w80\.jpg")/g);if(t){var a=e.split(/<img [\w\W]+?>/);e=a[0];for(var n=1,s=a.length;n<s;n++)e+="{{=".concat(t[n-1],"}}").concat(a[n])}if(""!==(e=e.replace(/<(span|font|div|br|img)[\d\D]*?>/g,"").replace(/<\/(div|span|font)>/g,"").replace(/&nbsp;/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"))){if("open"!==J.status)return this.setState({messages:"\u4e0e\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5"});this.props.sendingMessageAction(e),J.ws.send(JSON.stringify({type:"send_chat_message",origin:this.props.user.userId,target:this.props.chat.chatnow,content:e})),this.refs.textarea.innerText="",this.props.setWaitMessageAction("")}}}},{key:"textareaInput",value:function(e){this.props.setWaitMessageAction(e.target.innerHTML.trim().replace(/<div><br><\/div>/g,""))}},{key:"textareaPress",value:function(e){var t=e.target.innerHTML;"Enter"===e.key&&(e.target.innerHTML=t.replace(/<div><br><\/div>$/g,""),this.sendMessage())}},{key:"render",value:function(){var e=this,t=this.props.chat,a=void 0;return t.chatnow&&Array.isArray(t.messages)&&(a=t.messages.find(function(e){return e.userId===t.chatnow})),s.a.createElement("div",{className:"chat-window",style:{display:t.hideWindow?"none":"block"}},s.a.createElement("div",{className:"chatw-header"},s.a.createElement("div",{onClick:this.swingChatWindow.bind(this),className:"charw-hide",style:{background:"url(".concat(F,"/image/ui/left.png) center center / 25px 25px no-repeat #628ef9")}}),s.a.createElement("div",{className:"chatw-h-targetname"},a&&a.nickname)),s.a.createElement("div",{className:"chatw-show-scroll-wrap"},s.a.createElement("div",{ref:"chatMessageBox",className:"chatw-show-wrap"},[a&&a.content.map(function(t,n){return s.a.createElement("div",{className:"chat-chatnow-wrap",key:n},t.sender===a.userId?s.a.createElement("div",{className:"chat-target-wrap"},s.a.createElement("div",{className:"chat-target",key:"1"},s.a.createElement("div",{className:"chat-ta-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(a.avatar,") center center / 30px 30px no-repeat")}}),s.a.createElement("div",{className:"chat-ta-nickname"},a.nickname)),s.a.createElement("div",{className:"chat-msg-target",dangerouslySetInnerHTML:{__html:tt(t.msg)},key:"2"})):s.a.createElement("div",{className:"chat-me-wrap"},s.a.createElement("div",{className:"chat-me",key:"1"},s.a.createElement("div",{className:"chat-me-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(e.props.user.avatar,") center center / 30px 30px no-repeat")}}),s.a.createElement("div",{className:"chat-me-nickname"},e.props.user.nickname)),s.a.createElement("div",{className:"chat-msg-me",dangerouslySetInnerHTML:{__html:tt(t.msg)},key:"2"})))}),a&&t.sendingMessages.map(function(t,n){return t.target!==a.userId?null:s.a.createElement("div",{className:"chat-chatnow-wrap",key:n},s.a.createElement("div",{className:"chat-me-wrap"},s.a.createElement("div",{className:"chat-me",key:"1"},s.a.createElement("div",{className:"chat-me-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(e.props.user.avatar,") center center / 30px 30px no-repeat")}}),s.a.createElement("div",{className:"chat-me-nickname"},e.props.user.nickname)),s.a.createElement("div",{className:"wait-msg-box"},s.a.createElement("div",{className:"chat-msg-me",dangerouslySetInnerHTML:{__html:tt(t.message)},key:"2"}),s.a.createElement("div",{className:"wait-logo"}))))})])),s.a.createElement("div",{className:"chatw-send-wrap"},s.a.createElement("div",{className:"chatw-s-textarea"},s.a.createElement("div",{id:"textarea",ref:"textarea",onInput:this.textareaInput.bind(this),contentEditable:!!a,suppressContentEditableWarning:"true",onKeyPress:this.textareaPress.bind(this),dangerouslySetInnerHTML:{__html:this.state.waitMessage}})),s.a.createElement("div",{className:"chatw-s-sendbox"},s.a.createElement("div",{className:"chat-add-img"},s.a.createElement("input",{onChange:this.chatImageChange.bind(this),className:"add-img-file",type:"file"}),s.a.createElement("img",{src:"".concat(F,"/image/ui/plus-circle.png"),title:"\u6dfb\u52a0\u56fe\u7247"})),this.state.message&&s.a.createElement("div",{className:"char-err"},this.state.message),s.a.createElement("div",{onClick:this.sendMessage.bind(this),className:"chatw-s-sendbtn"},"\u53d1\u9001"))),this.state.showChatImage&&s.a.createElement("div",{onClick:this.closeChatImage.bind(this),className:"chat-img-wrap"},s.a.createElement("img",{src:"".concat(F,"/image/member/chat/").concat(this.state.chatImage)})))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(s.a.Component);var nt=Object(i.b)(function(e){return{user:e.auth.user,chat:e.chat}},{swingChatWindowAction:function(e){return function(t){t({type:"SWING_CHAT_WINDOW",payload:e})}},setWaitMessageAction:function(e){return function(t){t({type:"SET_WAIT_MESSAGE",payload:e})}},sendingMessageAction:function(e){return function(t){t({type:"PUT_SENDING_MESSAGE",payload:e})}}})(at),st=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={route:"message",message:""},a}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){if("object"===typeof window){var e=document.getElementById("chat");document.getElementById("chat-move").onmousedown=function(t){var a=t.clientX,n=t.clientY,s=parseInt(window.getComputedStyle(e).top),r=parseInt(window.getComputedStyle(e).left);document.onmousemove=function(t){e.style.left=r+(t.clientX-a)+"px",e.style.top=s+(t.clientY-n)+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},document.onmouseleave=function(){document.onmousemove=null,document.onmouseup=null}}}},{key:"componentWillUnmount",value:function(){"object"===typeof window&&(document.getElementById("chat-move").onmousedown=null,document.onmouseleave=null)}},{key:"routeChange",value:function(e){this.setState({route:e})}},{key:"render",value:function(){return"object"!==typeof window?s.a.createElement("div",null):s.a.createElement("div",{id:"chat"},s.a.createElement("div",{className:"chat-route"},s.a.createElement("div",{id:"chat-move",className:"cr-user-wrap"},s.a.createElement("div",{className:"cr-user-avatar",style:{background:"url(".concat(F,"/image/member/avatar/").concat(this.props.auth.user.avatar,") center center / 30px 30px no-repeat")}}),s.a.createElement("div",{className:"cr-user-name"},this.props.auth.user.nickname)),s.a.createElement("div",{className:"cr-routes-wrap"},s.a.createElement("div",{onClick:this.routeChange.bind(this,"message"),className:D()("crr-item",{"crr-select-bg":"message"===this.state.route})},s.a.createElement("div",{className:"crr-item-img"},s.a.createElement("img",{src:"".concat(F,"/image/ui/message.png")})),s.a.createElement("div",{className:"crr-item-f"},s.a.createElement("span",null,"\u6d88\u606f"))),s.a.createElement("div",{onClick:this.routeChange.bind(this,"contacts"),className:D()("crr-item",{"crr-select-bg":"contacts"===this.state.route})},s.a.createElement("div",{className:"crr-item-img"},s.a.createElement("img",{src:"".concat(F,"/image/ui/user.png")})),s.a.createElement("div",{className:"crr-item-f"},s.a.createElement("span",null,"\u8054\u7cfb\u4eba"))),s.a.createElement("div",{onClick:this.routeChange.bind(this,"search"),className:D()("crr-item",{"crr-select-bg":"search"===this.state.route})},s.a.createElement("div",{className:"crr-item-img"},s.a.createElement("img",{src:"".concat(F,"/image/ui/monitor.png")})),s.a.createElement("div",{className:"crr-item-f"},s.a.createElement("span",null,"\u627e\u4eba"))))),s.a.createElement("div",{className:"chat-body"},s.a.createElement("div",{className:"chat-body-box"},"message"===this.state.route?s.a.createElement(Ke,null):"contacts"===this.state.route?s.a.createElement(Ze,null):"search"===this.state.route?s.a.createElement(et,null):null)),s.a.createElement(nt,null))}}]),t}(s.a.Component);var rt=Object(i.b)(function(e){return{auth:e.auth}},{initContacts:Y})(st),ct=(a(86),function(e){function t(){return Object(I.a)(this,t),Object(P.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.messageBox,t=this;setTimeout(function(){var a=1,n=setInterval(function(){a-=.1,e.style.opacity=a},100);setTimeout(function(){clearInterval(n),t.props.closeAlertAction()},1e3)},500)}},{key:"render",value:function(){return s.a.createElement("div",{ref:"messageBox",className:"message-box"},this.props.messageBox.message)}}]),t}(s.a.Component)),it=Object(i.b)(function(e){return{messageBox:e.messageBox}},{closeAlertAction:function(){return function(e){e({type:"CLOSE_ALERT"})}}})(ct);var ot,lt=Object(i.b)(function(e){return{confirmMessage:e.messageBox.confirmMessage,sure:e.messageBox.sure,cancel:e.messageBox.cancel}},{closeConfirmAction:function(){return function(e){e({type:"CLOSE_CONFIRM"})}}})(function(e){var t;return s.a.createElement("div",{className:"confirm-box"},s.a.createElement("div",{className:"msg-content"},"string"!==typeof(t=e.confirmMessage)?"":t.length<31?t:t.substring(0,30)+"..."),s.a.createElement("div",{className:"btn-wrap"},s.a.createElement("div",{onClick:function(){"function"===typeof e.sure&&e.sure(),e.closeConfirmAction()},className:"btn-yes"},"\u786e\u8ba4"),s.a.createElement("div",{onClick:function(){e.closeConfirmAction(),"function"===typeof e.cancel&&e.cancel()},className:"btn-cancel"},"\u53d6\u6d88")))});if("object"===typeof window){console.log("%c\u4f18\u9009\u63d0\u793a\uff01","color:#3680f1;font-size:30px;font-weight:bold;"),console.log("%c\u6b64\u6d4f\u89c8\u5668\u529f\u80fd\u4e13\u4f9b\u5f00\u53d1\u8005\u4f7f\u7528\u3002\u8bf7\u4e0d\u8981\u5728\u6b64\u7c98\u8d34\u6267\u884c\u4efb\u4f55\u5185\u5bb9\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u60a8\u7684\u8d26\u6237\u53d7\u5230\u653b\u51fb\uff0c\u7ed9\u60a8\u5e26\u6765\u635f\u5931 \uff01","font-size:20px;color:#777777;font-weight:400;");var mt=window.localStorage.jwtToken;mt?(d.a.defaults.headers.common.Authorization=mt,T.dispatch({type:"VERIFYING"}),d.a.get("".concat(F,"/api/users/current")).then(function(e){e.data.success?($(e.data.payload.token),U(e.data.payload.user)):($(!1),U({}))}).catch(function(e){console.warn("at verify local token:",e),$(!1),U({})})):($(!1),U({}));var ut=window.localStorage.getItem("productType");try{ot=JSON.parse(ut),T.dispatch({type:"SET_BIG_TYPE",payload:ot})}catch(dt){}}var pt=Object(i.b)(function(e){return{hideChat:e.chat.hideChat,showAlert:e.messageBox.showAlert,showConfirm:e.messageBox.showConfirm}})(function(e){return s.a.createElement("div",null,s.a.createElement(m.a,null,s.a.createElement(qe,{path:"/seller/panel",component:Ne}),s.a.createElement(u.a,{exact:!0,path:"/seller/login",component:Ie}),s.a.createElement(u.a,{exact:!0,path:"/seller/register",component:Fe}),s.a.createElement(qe,{exact:!0,path:"/seller/category",component:ze}),s.a.createElement(qe,{exact:!0,path:"/seller/product_issue",component:Ue}),s.a.createElement(l.a,{exact:!0,from:"/seller",to:"/seller/panel"})),e.hideChat?null:s.a.createElement(rt,null),e.showAlert?s.a.createElement(it,null):null,e.showConfirm?s.a.createElement(lt,null):null)});c.a.hydrate(s.a.createElement(i.a,{store:T},s.a.createElement(o.a,null,s.a.createElement(pt,null))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0ff5a0a8.chunk.js.map