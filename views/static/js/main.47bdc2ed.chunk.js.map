{"version":3,"sources":["utils/config.js","flux/reducers/register.js","utils/validator.js","flux/reducers/authReducer.js","flux/reducers/product.js","flux/reducers/order.js","flux/reducers/index.js","flux/store.js","utils/setAuth.js","utils/socket.js","flux/actions/orderActions.js","flux/actions/productActions.js","flux/actions/authActions.js","components/Header/index.js","containers/Home/subpage/Slide.js","containers/Home/subpage/SmaillType.js","containers/Home/index.js","containers/Register/subpage/step1.js","containers/Register/subpage/step2.js","containers/Register/subpage/step3.js","containers/Register/index.js","containers/Login/subpage/Account.js","containers/Login/subpage/PhoneLogin.js","containers/Login/index.js","components/Search/index.js","components/Goods/subpage/Wait.js","components/Goods/subpage/ErrorPage.js","components/Goods/subpage/Empty.js","components/Goods/subpage/GoodsList.js","components/Goods/index.js","containers/SearchProduct/subpage/SubStore.js","containers/SearchProduct/index.js","containers/SearchProduct/GotoSearchProduct.js","components/StoreHeader/index.js","utils/tools.js","containers/ProductDetail/subpage/Spec.js","containers/ProductDetail/subpage/ProductInfo.js","containers/ProductDetail/index.js","containers/UserInfo/subpage/Safety.js","containers/UserInfo/subpage/MyInfo.js","containers/UserInfo/subpage/EditMyInfo.js","containers/UserInfo/subpage/Address.js","containers/UserInfo/subpage/ShopCat.js","containers/UserInfo/subpage/Message.js","containers/UserInfo/subpage/MyOrder.js","containers/UserInfo/index.js","containers/Order/index.js","containers/PayOrder/subpage/PayHeader.js","containers/PayOrder/index.js","App.js","index.js"],"names":["utils_config","initialState","step","phone","isEmpty","value","undefined","Object","keys","length","isPhone","number","test","location","isLogin","loginWay","user","isVerify","address","authReducer","state","arguments","action","type","objectSpread","payload","searchGoods","searchStores","searchKey","productDetail","comments","goodDetail","goodInfo","infoPicture","smaillPicture","message","productReducer","productDetailInitialState","buyProducts","payOrder","payStatus","orderReducer","rootReducer","combineReducers","register","auth","product","order","middleWare","thunk","window","localStore","localStorage","getItem","JSON","parse","err","console","error","composeMiddlewares","applyMiddleware","apply","__REDUX_DEVTOOLS_EXTENSION__","push","store","createStore","compose","subscribe","getState","setItem","stringify","setAuthToken","token","axios","defaults","headers","common","socket","status","initSocket","removeItem","setCurrentUser","dispatch","WS_HOST","config","ws","WebSocket","concat","onclose","e","log","onmessage","msg","data","content","onerror","onopen","setTimeout","send","target","HOST","setSearchKeyAction","setLoginWay","way","setRouterLocationAction","AppHeader","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","props","hello","_react_16_8_1_react_default","a","createElement","className","Link","to","userinfo","nickname","onClick","loginOut","bind","href","Component","connect","slide","slideboxs","slideImg","bgimg","bgcolor","slideStop","slideIndex","slideInterval","slideTimeout","slideAnimate","assertThisInitialized","gotoSlide","slideStart","_this2","setState","document","getElementsByClassName","style","opacity","setInterval","clearInterval","clearTimeout","next","before","beforeOpa","nextOpa","interval","time","timeout","nowtime","Date","index","Number","currentTarget","getAttribute","_this3","onMouseLeave","map","item","key","backgroundColor","background","onMouseOver","_","cnames","slide-nav-selected","SmaillType","smaillType","_id","smaillName","detail","detailName","Home","navTop","bigType","selectedBigid","onBigTypeSelect","CurrentSmaillType","get","then","res","success","catch","bigid","getSmaill","i","len","preventDefault","history","_this4","components_Header","onSubmit","searchProduct","onChange","searchInputChange","placeholder","width","height","src","alt","onBigTypeLeave","nav-l-item-sel","bigName","subpage_SmaillType","Slide","Step1","isCheck","smsCode","sendSMSCode","errors","validator","sendSMS","changeStep","defineProperty","name","sms","post","getPhone","refs","slideBlock","addEventListener","start","screenX","parseInt","getComputedStyle","mousemove","move","left","slideRate","mouseup","removeEventListener","end","slideCheck","ref","nextStep","Step2","password","password2","debounce","nicknameRepeat","valid","isLegal","callback","response","result","timer","handler","newUser","getUser","submit","classnames","border-err","Step3","users","Register","registerInfo","showStep","Route","exact","path","component","Account","account","inputChange","opts","min","max","info","htmlFor","id","formSubmit","React","protTypes","PropTypes","object","isRequired","func","PhoneLogin","_ref","sms_code","Login","goBack","classPhone","classAccount","historyPush","beforeKey","Search","defaultValue","propType","string","Wait","ErrorPage","Empty","GoodsList","goods","rowlast","logo","nowPrice","goodName","substring","storeName","Goods","searchUrl","getGoods","subpage_Wait","subpage_ErrorPage","subpage_Empty","subpage_GoodsList","SubStore","stores","detailTypes","nextProps","Array","isArray","detailId","storeIds","storeId","repeat","j","len2","jsonStoreIds","smaillId","find","detailType","crum-selected","SearchProduct","match","params","q","search","getSearchProductUrl","setSearchGoodsAction","queryString","url","isvalid","bigId","sort","limit1","limit2","components_Search","subpage_SubStore","components_Goods","GotoSearchProduct","StoreHeader","onSearchInputChange","storeInfo","searchAllProduct","searchStoreProduct","withRouter","intMultiplication","b","deci","replace","intAdd","deci1","deci2","Math","abs","maxDeci","transPrice","price","Spec","smaillx","smailly","bigImg","showMustChoice","selectImg","link","allAmount","specChoice","choiceProductDetail","choiceNumber","specConfig","specValueClick","onSmaillMouseOver","newConfig","detailIndex","specNameIndex","specValueIndex","amount","specName","indexx","toConsumableArray","isOK","choiceNumberChange","buyProduct","goodId","productName","specValue","setBuyProductsAction","show-choice","display","closeMustChoice","value-item-selected","plusNumber","backgroundSize","marginBottom","border","minusNumber","marginTop","marginLeft","buyNow","buy-now-noPost","add-shopcat-noPost","products","ProductInfo","showDetail","product-info-selected","showDetial","creaTime","ProductDetail","setProductDetailAction","src_components_StoreHeader","subpage_Spec","subpage_ProductInfo","Safety","MyInfo","Address","memberId","receiveName","postcode","ShopCat","Message","Order","UserInfo","avatar","EditMyInfo","MyOrder","choiceAddress","numbers","totalPrice","computeTotal","nums","numberChange","request","goodDetailIds","addressId","messages","submitOrder","setPayOrderAction","addressChoice","numberMinus","numberPlus","commentChange","PayOrder","payway","property","paywayChange","wallet","subpage_PayHeader","sumPrice","setPayway","checked","alipayURL","frameBorder","orderno","jwtToken","App","ReactDOM","render","es","BrowserRouter","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.47bdc2ed.chunk.js","sourcesContent":["export default {\n //  HOST: 'http://127.0.0.1:5000',\n\t// WS_HOST: 'ws://127.0.0.1:5000'\n  HOST: 'http://118.126.108.36',\n\tWS_HOST: 'ws://118.126.108.36'\n}\n","let initialState = {\r\n\tstep: 0,\r\n\tphone: '13888888888'\r\n}\r\nexport default (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase \"STEP_CHANGE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstep: action.step\r\n\t\t\t}\r\n\t\tcase \"GET_PHONE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tphone: action.phone\r\n\t\t\t}\r\n\t\tcase \"NEW_USER\":\r\n\t\t\treturn action.user;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","export const isEmpty = value => {\n\treturn value === undefined || value === null ||\n\t\t(typeof value === 'object' && Object.keys(value).length === 0) ||\n\t\t(typeof value === 'string' && value.length === 0)\n}\n\nexport const isPhone = number => {\n\treturn /^1[0-9]{10}$/.test(number);\n}\n\nexport const isLength = (value, opts) => {\n\tif (typeof value !== 'string') return false;\n\treturn (value.length >= opts.min && value.length <= opts.max)\n}\n","import {isEmpty} from '../../utils/validator'\n\nvar initialState = {\n  location: '',  // 记录路由地址\n\tisLogin: false,\n\tloginWay: 'phone',\n\tuser: {},\n  isVerify: true,  // 账号验证中\n  address: []  // 收货地址\n}\nconst authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase 'SET_LOGIN_WAY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloginWay: action.payload\n\t\t\t}\n\t\tcase 'SET_CURRENT_USER': // 登陆或 App.js 验证 localStorage中 token 时触发\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLogin: !isEmpty(action.payload),\n\t\t\t\tuser: !isEmpty(action.payload) ? action.payload.user : {},\n        isVerify: false,  // 设置 auth.isVerifu = false (验证结束)\n        address: action.payload.address || []\n\t\t\t}\n    case 'SET_ROUTER_LOCATION':\n      return {\n        ...state,\n        location: action.payload\n      }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\nexport default authReducer;\n","var initialState = {\n  searchGoods: [],\n  searchStores: [],\n  searchKey: '',\n  productDetail: {\n    comments: [],\n    goodDetail: [],\n    goodInfo: {},\n    infoPicture: [],\n    smaillPicture: [{}],\n    message: '加载中。。。'\n  }\n}\n\nvar productReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case 'SET_SEARCH_GOODS':\n      return {\n        ...state,\n        searchGoods: action.payload\n      }\n    case 'SET_SEARCH_STORES':\n      return {\n        ...state,\n        searchStores: action.payload\n      }\n    case 'SET_SEARCH_KEY':\n      return {\n        ...state,\n        searchKey: action.payload\n      }\n    case 'SET_PRODUCT_DETAIL':\n      return {\n        ...state,\n        productDetail: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default productReducer\nexport const productDetailInitialState = initialState","const initialState = {\n  buyProducts: [],   // 待购买的商品\n  payOrder: {},\n  payStatus: 'nosuccess'\n}\n\nconst orderReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n    case 'SET_BUY_PRODUCTS':\n      return {\n        ...state,\n        buyProducts: action.payload\n      }\n    case 'SET_PAY_ORDER':\n      return {\n        ...state,\n        payOrder: action.payload\n      }\n    case 'PAY_SUCCESS':\n      return {\n        ...state,\n        payStatus: 'success'\n      }\n    default:\n      return state\n\t}\n}\nexport default orderReducer\n","/**\n * 合并多个 reducer 成一个大的reducer\n */\n\nimport {combineReducers} from 'redux'\n\nimport register from './register'\nimport auth from './authReducer'\nimport product from './product'\nimport order from './order'\n\nlet rootReducer = combineReducers({\n\tregister,\n\tauth,\n  product,\n  order,\n});\nexport default rootReducer;\n","import {createStore, applyMiddleware, compose} from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index.js'\n\nlet middleWare = [thunk];\nlet initialState = {};\n// 从本地储存获取 store 初始状态\nif (typeof(window) === 'object') {\n  var localStore = window.localStorage.getItem('localStoreState')\n  if (localStore) {\n    try {\n      initialState = JSON.parse(localStore)\n    }catch(err) {\n      console.error(err)\n    }\n  }\n}\n\n// 需要合并的中间件\nlet composeMiddlewares = [applyMiddleware(...middleWare),];\n//激活 chrome 浏览器 redux 插件\nif (typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION__) {\n\tcomposeMiddlewares.push(window.__REDUX_DEVTOOLS_EXTENSION__())\n}\nconst store = createStore(rootReducer, initialState, compose(...composeMiddlewares));\n\n// 订阅更新函数，每次状态更新都会执行\nstore.subscribe(() => {\n  if (typeof(window) !== 'object') return;\n  var state = store.getState()\n  window.localStorage.setItem('localStoreState', JSON.stringify({\n    order: state.order,\n    auth: state.auth\n  }))\n})\n\nexport default store;\n","import axios from 'axios'\nimport store from '../flux/store'\nimport socket from './socket'\n\nexport const setAuthToken = token => {\n\tif (token) {\n\t\t// 让每个请求头携带 token\n\t\taxios.defaults.headers.common[\"Authorization\"] = token;\n\t\t // 添加localStorage 储存token\n\t\twindow.localStorage.setItem(\"jwtToken\", token);\n    // 初始化 websocket\n    if (socket.status === 'close') {\n      socket.initSocket(token)\n    }\n\t} else {\n\t\t// 删除请求头 token\n\t\tdelete axios.defaults.headers.common[\"Authorization\"];\n\t\t// 删除localStorage储存的 token\n\t\twindow.localStorage.removeItem(\"jwtToken\");\n\t}\n}\n\nexport const setCurrentUser = payload => {\n\tstore.dispatch({\n\t\ttype: 'SET_CURRENT_USER',\n\t\tpayload\n\t})\n}\n\n","import { setAuthToken } from './setAuth'\nimport { payOrderSuccessAction } from '../flux/actions/orderActions'\nimport config from './config'\nconst WS_HOST = config.WS_HOST\n\nconst socket = {\n  status: 'close',\n  ws: null,\n  initSocket: function (token) {\n    if (typeof(window) !== 'object' || !token) return;\n    const ws = new WebSocket(`${WS_HOST}?token=${token}`)\n\n    ws.onclose = function(e) {\n      console.log('socket close!')\n      socket.status = 'close'\n    }\n    ws.onmessage = function(e) {\n      var msg = e.data\n      try {\n        msg = JSON.parse(msg)\n      }catch(err) {\n        return\n      }\n      switch(msg.type) {\n        case 'transToken':\n          return setAuthToken(msg.content)\n        case 'payOrderSuccess':\n          return payOrderSuccessAction(msg.content)\n        default:\n          return\n      }\n    }\n    ws.onerror = function(e) {\n      console.error('socket error', e)\n    }\n\n    ws.onopen = function(e) {\n      console.log('socket open')\n      socket.status = 'open'\n      setTimeout(function() {\n        ws.send(JSON.stringify({\n          type: 'transToken',\n          target: 'koa'\n        }))\n      }, 1000*60*15)\n    }\n    socket.ws = ws\n  }\n}\n\nexport default socket\n","import store from '../store'\n/**\n * 订单 Action\n */\nexport const setBuyProductsAction = products => dispatch => {\n  dispatch({\n    type: 'SET_BUY_PRODUCTS',\n    payload: products\n  })\n}\n\n/**\n * 付款页面信息\n */\nexport const setPayOrderAction = payOrder => dispatch => {\n  dispatch({\n    type: 'SET_PAY_ORDER',\n    payload: payOrder\n  })\n}\n/**\n * 付款成功\n */\nexport const payOrderSuccessAction = orderno => {\n  store.dispatch({\n    type: 'PAY_SUCCESS'\n  })\n}\n","import store from '../store'\nimport axios from 'axios'\nimport config from '../../utils/config'\nimport { productDetailInitialState } from '../reducers/product.js'\n\nconst HOST = config.HOST\nconst state = store.getState()\n\n// 搜索的 goods\nexport const setSearchGoodsAction = goods => dispatch => {\n  dispatch({\n    type: 'SET_SEARCH_GOODS',\n    payload: goods\n  })\n}\n\n// 设置搜索的 Store\nexport const setSearchStoresAction = stores => dispatch => {\n  dispatch({\n    type: 'SET_SEARCH_STORES',\n    payload: stores\n  })\n}\n\n// 设置搜索关键字\nexport const setSearchKeyAction = searchKey => dispatch => {\n  dispatch({\n    type: 'SET_SEARCH_KEY',\n    payload: searchKey\n  })\n}\n\n// 设置商品详情页数据\nexport const setProductDetailAction = goodId => dispatch => {\n  // if (state.product.productDetail._id === goodId) return;\n  if (goodId === -1) {\n    // 清空数据\n    dispatch({\n      type: 'SET_PRODUCT_DETAIL',\n      payload: productDetailInitialState\n    })\n  }\n  axios.get(`${HOST}/api/goods/product_detail?goodId=${goodId}`)\n    .then(res => {\n      console.log(res)\n      if (res.data.success) {\n        dispatch({\n          type: 'SET_PRODUCT_DETAIL',\n          payload: res.data.payload\n        })\n      }else {\n        dispatch({\n          type: 'SET_PRODUCT_DETAIL',\n          payload: { ...state.product.productDetail, message: res.data.message, error: '' }\n        })\n      }\n    })\n    .catch(err => {\n      dispatch({\n        type: 'SET_PRODUCT_DETAIL',\n        payload: { ...state.product.productDetail, error: err.message, message: '' }\n      })\n    })\n}\n","\nexport const setLoginWay = way => dispatch => {\n\tdispatch({\n\t\ttype: 'SET_LOGIN_WAY',\n\t\tpayload: way\n\t});\n}\n\nexport const setRouterLocationAction = location => dispatch => {\n  dispatch({\n    type: 'SET_ROUTER_LOCATION',\n    payload: location\n  })\n}\n","import React, {Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport './index.scss'\nimport {setAuthToken, setCurrentUser} from '../../utils/setAuth'\nclass AppHeader extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\n\t\t}\n\t}\n\t// 退出\n\tloginOut() {\n\t\tsetAuthToken(false); // axios token 头清除，localStorage token清除\n\t\tsetCurrentUser({}); // dispatch 当前空用户\n\t}\n\trender() {\n\t\tconst auth = this.props.auth;\n\t\tconst hello = (<ul className=\"ul-l\">\n\t\t\t\t\t\t<li>哈，欢迎来到xx</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/login\">请登录</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/register\">免费注册</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>)\n\t\tconst userinfo = (<ul className=\"ul-l\">\n\t\t\t\t\t\t<li>Hi，<Link to=\"/member\">{auth.user.nickname}</Link></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span to=\"/login\">积分0</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/\">消息0</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a onClick={this.loginOut.bind(this)} href=\"javascript:void(0)\">退出</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>)\n\t\treturn (\n\t\t\t<div className=\"app-header-wrap\">\n\t\t\t\t<div className=\"app-header\">\n\t\t\t\t\t{\n\t\t\t\t\t\tauth.isLogin ?\n\t\t\t\t\t\tuserinfo :\n\t\t\t\t\t\thello\n\t\t\t\t\t}\n\t\t\t\t\t<ul className=\"ul-r\">\n\t\t\t\t\t\t<li><Link to=\"/member\">我的淘宝</Link></li>\n\t\t\t\t\t\t<li><Link to=\"/member\">购物车0件</Link></li>\n\t\t\t\t\t\t<li>商家支持</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAppHeader.propTypes = {\n\tauth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tauth: state.auth\n\t}\n}\nexport default connect(mapStateToProps, null)(AppHeader);\n","/**\n * 轮播图组件\n */\nimport React,{Component} from 'react'\nimport PropTypes from 'prop-types'\nimport cnames from 'classnames'\nimport config from '../../../utils/config'\n\n\nclass slide extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tslideboxs: null,\n\t\t\t// 轮播图图片\n\t\t\tslideImg: [\n\t\t\t\t{bgimg: '/image/slide_wall/TB1FmwTvHZnBKNjSZFGSuvt3FXa.jpg', bgcolor: '#fff'},\n\t\t\t\t{bgimg: '/image/slide_wall/红米Note7.webp', bgcolor: '#00f'},\n\t\t\t\t{bgimg: '/image/slide_wall/O1CN01Tms3Pn1D7tpGbFK5a_!!170-0-luban.jpg_q100.jpg_.webp', bgcolor: '#00f'},\n\t\t\t\t{bgimg: '/image/slide_wall/TB1wbKtvIfpK1RjSZFOSuu6nFXa.jpg', bgcolor: '#06f'},\n\t\t\t\t{bgimg: '/image/slide_wall/TB1wbKtvIfpK1RjSZFOSuu6nFXa.jpg', bgcolor: '#06f'},\n\t\t\t\t{bgimg: '/image/slide_wall/TB10lfQxpzqK1RjSZSgSuwpAVXa.jpg', bgcolor: '#dff'}\n\t\t\t],\n\t\t\tslideStop: false,  // 是否停止轮播图\n\t\t\tslideIndex: 0,  // 轮播图索引\n\t\t\tslideInterval: -1,  // 主定时器\n      slideTimeout: -1\n\t\t}\n\t\tthis.slideAnimate = this.slideAnimate.bind(this);\n\t\tthis.gotoSlide = this.gotoSlide().bind(this);\n\t\tthis.slideStart = this.slideStart.bind(this);\n\t\tthis.slideStop = this.slideStop.bind(this);\n\t}\n\tcomponentDidMount() {\n    if (typeof window !== 'object') return;\n\t\t// 组件挂载完毕,获取轮播图组件，开启轮播图\n\t\tthis.setState({\n\t\t\tslideboxs: window.document.getElementsByClassName(\"slide-img-box\")\n\t\t}, () => {\n\t\t\tthis.state.slideboxs[this.state.slideIndex].style.opacity = 1;\n\t\t\tvar _this = this;\n\t\t\tvar slideInterval = window.setInterval(function(){\n\t\t\t\tif (!_this.state.slideStop)\n\t\t\t\t\t_this.slideAnimate();\n\t\t\t}, 5000);\n\t\t\tthis.setState({\n\t\t\t\tslideInterval\n\t\t\t});\n\t\t});\n\t}\n\t// 组件卸载\n\tcomponentWillUnmount() {\n    if (typeof window !== 'object') return;\n      // 清除轮播图主定时器\n    window.clearInterval(this.state.slideInterval);\n    window.clearTimeout(this.state.slideTimeout);\n\t}\n\t// 动画切换函数，before 消失，next 显示\n\tslideAnimate(next) {\n\t\tvar before = this.state.slideIndex;\n\t\tif (next === undefined) {next = ((before + 1) % this.state.slideboxs.length)};\n\t\tvar _this = this;\n\t\tvar slideboxs = this.state.slideboxs;\n\t\tvar beforeOpa = 1,nextOpa = 0;\n\t\t// 开始动画\n\t\tvar interval = window.setInterval(function() {\n\t\t\tbeforeOpa -= 0.2; nextOpa += 0.2;\n\t\t\tslideboxs[before].style.opacity = beforeOpa;\n\t\t\tslideboxs[next].style.opacity = nextOpa;\n\t\t}, 50);\n\t\t// 停止动画，完成转换\n\t\tvar slideTimeout = window.setTimeout(function() {\n\t\t\twindow.clearInterval(interval);\n\t\t\tslideboxs[before].style.opacity = 0;\n\t\t\tslideboxs[next].style.opacity = 1;\n\t\t\t// 更新显示索引\n      _this.setState({\n        slideIndex: next,\n        slideTimeout: slideTimeout\n      });\n\t\t}, 200);\n\t}\n\t// 切换动画索引\n\tgotoSlide() {\n\t\tvar time = 0,timeout = null;\n\t\treturn function (e) {\n\t\t\twindow.clearTimeout(timeout);\n\t\t\t// this.slideStop();\n\t\t\tvar nowtime = new Date();\n\t\t\tvar _this = this;\n\t\t\tvar index = Number(e.currentTarget.getAttribute('index'));\n\t\t\tif (nowtime - time > 500) {\n\t\t\t\tif (index !== _this.state.slideIndex)\n\t\t\t\t\t_this.slideAnimate(index);\n\t\t\t\t\ttime = nowtime;\n\t\t\t}else {\n\t\t\t\ttimeout = window.setTimeout(function(){\n\t\t\t\t\tif (index !== _this.state.slideIndex)\n\t\t\t\t\t\t_this.slideAnimate(index);\n\t\t\t\t\t\ttime = nowtime;\n\t\t\t\t}, 300);\n\t\t\t}\n\n\t\t}\n\t}\n\t// 停止动画\n\tslideStop(){\n\t\tif (!this.state.slideStop) {\n\t\t\tthis.setState({\n\t\t\t\tslideStop: true\n\t\t\t});\n\t\t}\n\t}\n\t// 开启动画\n\tslideStart() {\n\t\tif (this.state.slideStop) {\n\t\t\tthis.setState({\n\t\t\t\tslideStop: false\n\t\t\t});\n\t\t}\n\t}\n\trender(){\n\t\tvar slideImg = this.state.slideImg;\n\t\treturn(\n\t\t<div className=\"nav-slide-wrap\" onMouseLeave={this.slideStart}>\n\t\t{/*轮播图图片*/}\n\t\t{\n\t\t\tslideImg.map((item,index) => (\n\t\t\t\t<div key={index} className=\"slide-img-box\" style={{backgroundColor: item.bgcolor}}>\n\t\t\t\t\t<div\n\t\t\t\t\tclassName=\"slide-img-box-i\"\n\t\t\t\t\tstyle={{background: `url(${config.HOST}${item.bgimg}) no-repeat center`}}\n\t\t\t\t\tonMouseOver={this.slideStop}\n\t\t\t\t\t></div>\n\t\t\t\t</div>\n\t\t\t))\n\t\t}\n\t\t\t{/*小按钮*/}\n\t\t\t<ul className=\"slide-nav\">\n\t\t\t{\n\t\t\t\tslideImg.map((_, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={index}\n\t\t\t\t\t\t\tclassName={cnames(\"slide-nav-item\",{\n\t\t\t\t\t\t\t\t'slide-nav-selected': index === this.state.slideIndex\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tonMouseOver={this.gotoSlide}\n\t\t\t\t\t\t></li>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t\t</ul>\n\t\t</div>\n\t)\n\t}\n}\n\nexport default slide;\n","import React from 'react'\r\n\r\nfunction SmaillType(props) {\r\n\tvar smaillType = props.smaillType || [];\r\n\treturn (\r\n\t\t<div className=\"smaillType\">\r\n\t\t<h1>Detail</h1>\r\n\t\t{\r\n\t\t\tsmaillType.map(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item._id} className=\"smaill-item\">\r\n\t\t\t\t\t\t<div className=\"smaill-item-title\">{item.smaillName}</div>\r\n\t\t\t\t\t\t<div className=\"smaill-detail\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.detail.map(detail => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<span key={detail._id}>{detail.detailName}</span>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SmaillType;","import React, {Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport cnames from 'classnames'\nimport { connect } from 'react-redux'\n\nimport { setSearchKeyAction } from '../../flux/actions/productActions'\nimport { setRouterLocationAction } from '../../flux/actions/authActions'\n\nimport './home.scss'\nimport config from '../../utils/config.js'\nimport AppHeader from '../../components/Header'\nimport Slide from './subpage/Slide'\nimport SmaillType from './subpage/SmaillType'\n\nclass Home extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tnavTop: ['超市', '会员', '电器城', '鲜生', '医药馆', '营业厅', '旅行', '图书'],\n\t\t\t// 大分类信息\n\t\t\tbigType:[],\n\t\t\tselectedBigid: -1, // -1 不展示，其他为 bigType的 id\n      searchKey: ''\n\t\t}\n\t\tthis.onBigTypeSelect = this.onBigTypeSelect.bind(this);\n\t\tthis.CurrentSmaillType = this.CurrentSmaillType.bind(this);\n\t}\n\tcomponentWillMount() {\n    this.props.setRouterLocationAction('/')\n\t\t// 获取大分类表中数据\n\t\taxios.get(config.HOST + '/api/goods/type?type=big&limit=16')\n\t\t\t.then(res => {\n\t\t\t\tif (!res.data.success) {\n\t\t\t\t\treturn console.error('商品分类列表获取失败');\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tbigType: res.data.payload\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\t// 设置或获取 state的bigType 的 smaillType\n\tCurrentSmaillType(bigid, smaillType, getSmaill = false) {\n\t\tvar bigType = this.state.bigType;\n\t\tif (bigType.length === 0) return;\n\n\t\tfor (var i = 0,len = bigType.length; i < len; i++) {\n\t\t\tif (bigType[i]._id === bigid) {\n\t\t\t\t// 获取smaillType\n\t\t\t\tif (getSmaill) {\n\t\t\t\t\treturn bigType[i].smaillType;\n\t\t\t\t}\n\t\t\t\t// 设置 smaillType\n\t\t\t\tbigType[i].smaillType = smaillType;\n\t\t\t\tthis.setState({\n\t\t\t\t\tbigType: bigType\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n  // 获取小分类表\n\tonBigTypeSelect(e) {\n\t\t// showsmaill => true\n\t\tvar bigid = Number(e.currentTarget.getAttribute('bigid'));\n\t\tthis.setState({\n\t\t\tselectedBigid:bigid\n\t\t});\n\t\taxios.get(config.HOST + '/api/goods/type?type=smaill&bigid=' + bigid)\n\t\t\t.then(res => {\n\t\t\t\tif (!res.data.success) return;\n\t\t\t\tthis.CurrentSmaillType(bigid, res.data.payload);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\tonBigTypeLeave(){\n\t\tthis.setState({selectedBigid: -1});\n\t}\n  searchInputChange(e) {\n    this.setState({\n      searchKey: e.target.value\n    })\n  }\n  searchProduct(e) {\n    e.preventDefault();\n    this.props.setSearchKeyAction(this.state.searchKey)\n    this.props.history.push(`/search_product?q=${this.state.searchKey}&limit1=0&limit2=50`);\n  }\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<AppHeader />\n\t\t\t\t<div className=\"headerCon\">\n\t\t\t\t\t<form onSubmit={this.searchProduct.bind(this)}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"search-text\"\n              value={this.state.searchKey}\n              onChange={this.searchInputChange.bind(this)}\n\t\t\t\t\t\t\tplaceholder=\"搜索 优选 商品/品牌/店铺\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button type=\"submit\" className=\"search-btn\">搜索</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<ul className=\"hot-query\">\n\t\t\t\t\t{/*搜索框下面展示*/}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.navTop.map((item,index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">{item}</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"main-nav\">\n\t\t\t\t\t<ul className=\"nav-t-wrap\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.navTop.map((item, i) => {\n\t\t\t\t\t\t\t\treturn (<li key={i}>{item}</li>)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t\t{/*商品主分类*/}\n\t\t\t\t\t<div className=\"nav-l-box\">\n\t\t\t\t\t\t<div className=\"main-logo-wrap\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<a href={config.HOST}>\n\t\t\t\t\t\t\t\t\t<img width=\"240px\" height=\"130px\" src={config.HOST + \"/image/ui/home_logo.png\"} alt=\"优选\"/>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"nav-l-wrap\" onMouseLeave={this.onBigTypeLeave.bind(this)}>\n\t\t\t\t\t\t\t<div className=\"nav-l-title\">商品分类</div>\n\t\t\t\t\t\t\t<div className=\"nav-l-typewrap\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.bigType.map(item => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\t\t\t\tclassName={cnames(\"nav-l-item\", {\n\t\t\t\t\t\t\t\t\t\t\t'nav-l-item-sel': this.state.selectedBigid===item._id\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tbigid={item._id}\n\t\t\t\t\t\t\t\t\t\tonMouseOver={this.onBigTypeSelect}\n\t\t\t\t\t\t\t\t\t>{item.bigName}</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.selectedBigid === -1 ? null :\n\t\t\t\t\t\t\t\t<SmaillType smaillType={this.CurrentSmaillType(this.state.selectedBigid,null,true)} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/*轮播图组件，传递slideImg图片组*/}\n\t\t\t\t\t<Slide />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(null, { setSearchKeyAction,setRouterLocationAction })(Home);\n","import React, {Component} from 'react'\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\n\nimport config from '../../../utils/config.js'\n\nclass Step1 extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tphone: '',\n\t\t\tisCheck: false,\n\t\t\tsmsCode: '',\n\t\t\tsendSMSCode: '',  // 发送的验证码\n\t\t\terrors: {}\n\t\t}\n\t\tthis.validator = this.validator.bind(this);\n\t\tthis.sendSMS = this.sendSMS.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t}\n\tcomponentWillMount() {\n\t\t// 进入 Step1 改变 store.register.step = 1 中\n\t\tthis.props.changeStep(1);\n\t}\n\tonChange(e) {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\tvalidator(phone) {\n\t\tif (phone) {\n\t\t\treturn /^1[0-9]{10}$/.test(phone);\n\t\t}\n\t\treturn {\n\t\t\tphone: /^1[0-9]{10}$/.test(this.state.phone),\n\t\t\tsms: this.state.sendSMSCode && this.state.smsCode === this.state.sendSMSCode\n\t\t}\n\t}\n\tsendSMS() {\n\t\tif (!this.validator().phone) {\n\t\t\tthis.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\tphone: '手机号码格式不正确'\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\terrors: {}\n\t\t});\n\t\taxios.post(config.HOST + '/api/operator/testsms', {phone: this.state.phone})\n\t\t\t.then(res => {\n\t\t\t\tif (!res.data.success) {\n\t\t\t\t\tthis.setState({errors: {...this.state.errors, phone: '服务器忙，稍后重试'}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tsendSMSCode: res.data.payload.smsCode\n\t\t\t\t}, () => {\n\t\t\t\t\t// dispatch 手机号码\n\t\t\t\t\tthis.props.getPhone(this.state.phone);\n\t\t\t\t});\n\t\t\t\tconsole.log(res.data.payload.smsCode); // 打印验证码\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tthis.setState({\n\t\t\t\t\terrors: {\n\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\tphone: err.message\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\tnextStep() {\n\t\tif (!(this.validator(this.props.register.phone) && this.validator().sms)) {\n\t\t\t// 验证不通过\n\t\t\tthis.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\tsmsCode: '验证码有误'\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t// 验证通过，下一步\n\t\tthis.props.history.push('/register/step2')\n\t}\n\tcomponentDidMount() {\n    if (typeof window !== 'object') return;\n\t\t// 组件挂载完毕，绑定原生事件\n\t\tconst _this = this;\n\t\t// 鼠标按下\n\t\tthis.refs.slideBlock.addEventListener(\"mousedown\", slideCheck);\n\t\tfunction slideCheck(e) {\n\t\t\tlet start = e.screenX;\n\t\t\t// 滑块滑动总长度\n\t\t\tlet width = window.parseInt(window.getComputedStyle(_this.refs.slide, false)[\"width\"]) -\n\t\t\t\twindow.parseInt(window.getComputedStyle(_this.refs.slideBlock, false)[\"width\"]);\n\t\t\tconsole.log(width);\n\t\t\t// 鼠标移动\n\t\t\tdocument.addEventListener(\"mousemove\", mousemove);\n\t\t\tfunction mousemove(e) {\n\t\t\t\tlet move = e.screenX - start;\n\t\t\t\tif (0 < move && move <= width) {\n\t\t\t\t\t_this.refs.slideBlock.style.left = move + \"px\";  // 滑块移动\n\t\t\t\t\t_this.refs.slideRate.style.width = move + \"px\";  // 验证块变宽\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 鼠标抬起\n\t\t\tdocument.addEventListener(\"mouseup\", mouseup)\n\t\t\tfunction mouseup(e) {\n\t\t\t\tconsole.log(\"mouseup\");\n\t\t\t\t// 接触监听事件\n\t\t\t\t_this.refs.slideBlock.removeEventListener(\"mousemove\", mousemove);\n\t\t\t\tdocument.removeEventListener(\"mousemove\", mousemove);\n\t\t\t\tdocument.removeEventListener(\"mouseup\", mouseup);\n\n\t\t\t\tlet end = parseInt(_this.refs.slideRate.style.width); // 验证块长度\n\t\t\t\tconsole.log(end, width);\n\t\t\t\tif (end >= width-3) {  // 验证精度\n\t\t\t\t\t// \"验证成功\"\n\t\t\t\t\t_this.refs.slideBlock.removeEventListener(\"mousedown\", slideCheck);\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\tisCheck: true\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\t_this.refs.slideBlock.style.left = \"0px\"; // 滑块还原\n\t\t\t\t\t_this.refs.slideRate.style.width = \"0px\"; // 验证块还原\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Step1\">\n\t\t\t\t<div className=\"s1-item phone\">\n\t\t\t\t\t<div className=\"prefix\">手机号</div>\n\t\t\t\t\t<div className=\"s1-item-body\">\n\t\t\t\t\t\t<div className=\"s1-phone-prefix\">\n\t\t\t\t\t\t\t<span>中国大陆</span>\n\t\t\t\t\t\t\t<span> +86</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"s1-phone-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入手机号\"\n\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tvalue={this.state.phone}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tthis.state.errors.phone &&\n\t\t\t\t\t(<p>{this.state.errors.phone}</p>)\n\t\t\t\t}\n\t\t\t\t<div className=\"s1-item\">\n\t\t\t\t\t<div className=\"prefix\">手机号</div>\n\t\t\t\t\t<div className=\"s1-item-body\">\n\t\t\t\t\t\t<div ref=\"slide\" className=\"slide\">\n\t\t\t\t\t\t\t<p>{this.state.isCheck ? \"验证通过\" : \"请按住滑块，拖动到最右边\"}</p>\n\t\t\t\t\t\t\t<div ref=\"slideRate\" style={{width: 0}} className=\"slide-rate\"></div>\n\t\t\t\t\t\t\t<div ref=\"slideBlock\" style={{left: 0}} className=\"slide-block\">>></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tthis.state.isCheck ?\n\t\t\t\t\t<div className=\"s1-item s1-smscode\">\n\t\t\t\t\t\t<div className=\"-prefix\">验证码</div>\n\t\t\t\t\t\t<div className=\"s1-item-body\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"输入手机验证码\"\n\t\t\t\t\t\t\t\tname=\"smsCode\"\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tvalue={this.state.smsCode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button onClick={this.sendSMS}>发送</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t{/*<Link to=\"/register/step2\">下一步</Link>*/}\n\t\t\t\t<div><span onClick={this.nextStep.bind(this)}>下一步</span></div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nfunction mapStateToProps(state) {\n\treturn {\n\t\tregister: state.register\n\t}\n}\nfunction mapActionToProps(dispatch) {\n\treturn {\n\t\tchangeStep(step) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"STEP_CHANGE\",\n\t\t\t\tstep\n\t\t\t});\n\t\t},\n\t\tgetPhone(phone) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"GET_PHONE\",\n\t\t\t\tphone\n\t\t\t});\n\t\t}\n\t}\n}\nexport default connect(mapStateToProps, mapActionToProps)(Step1);\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport axios from 'axios'\r\nimport classnames from 'classnames'\r\n\r\nimport config from '../../../utils/config.js'\r\n\r\nclass Step2 extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tphone: props.register.phone,\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tnickname: '',\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\tthis.debounce = this.debounce();\r\n\t\tthis.validator = this.validator.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.nicknameRepeat = this.nicknameRepeat.bind(this);\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tthis.props.changeStep(2);\r\n\t}\r\n\tonChange(e) {\r\n\t\t// 同步值\r\n\t\tvar key = e.target.name;\r\n\t\tthis.setState({\r\n\t\t\t[key]: e.target.value\r\n\t\t});\r\n\t\t// 防抖 验证格式\r\n\t\tthis.debounce(() => {\r\n\t\t\tconsole.log(\"防抖验证\");\r\n\t\t\tvar valid = this.validator(key);\r\n\t\t\tthis.setState({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...this.state.errors,\r\n\t\t\t\t\t[key]: valid.isLegal ? '' : valid.msg\r\n\t\t\t\t}\r\n\t\t\t}, () => {\r\n\t\t\t\t// 格式验证成功, nickname 是否已存在\r\n\t\t\t\tkey === 'nickname' && valid.isLegal && this.nicknameRepeat();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tnicknameRepeat(callback) {\r\n\t// 验证名字重复\r\n\t\taxios.post(config.HOST + '/api/users/nickname', {nickname: this.state.nickname})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (!res.data.success) {\r\n\t\t\t\t\tcallback && callback(false);  // 提交时用,只要结果，防抖验证不用\r\n\t\t\t\t\treturn this.setState({\r\n\t\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t\t...this.state.errors,\r\n\t\t\t\t\t\t\tnickname: res.data.msg\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t...this.state.errors,\r\n\t\t\t\t\t\tnickname: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcallback && callback(true);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tcallback && callback(false);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t...this.state.errors,\r\n\t\t\t\t\t\tnickname: err.response.data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tvalidator(target) {\r\n\t\tvar result = {\r\n\t\t\tkey: target,\r\n\t\t\tisLegal: true,\r\n\t\t\tmsg: ''\r\n\t\t};\r\n\t\tswitch (target) {\r\n\t\t\tcase \"nickname\":\r\n\t\t\t\t// 不能以数字开头，长度 2-10 位\r\n\t\t\t\tif (!/^[^0-9][\\w\\W]{1,9}$/.test(this.state.nickname)){\r\n\t\t\t\t\tresult.isLegal = false;\r\n\t\t\t\t\tresult.msg = \"不能以数字开头，长度 2-10 位\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"password2\":\r\n\t\t\t\tif (this.state.password2 !== this.state.password) {\r\n\t\t\t\t\tresult.isLegal = false;\r\n\t\t\t\t\tresult.msg = \"两次密码不一致\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase \"password\":\r\n\t\t\t\t// 0-9 A-z _ . + - # @ ! ^ & $ (6,18)\r\n\t\t\t\tif (!/^[\\w\\d\\.\\+\\-#@!\\^\\&\\$]{6,18}$/.test(this.state.password)) {\r\n\t\t\t\t\tresult.isLegal = false;\r\n\t\t\t\t\tresult.msg = \"密码长度6-18位，可包含0-9 A-z _ . + - # @ ! ^ & $\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tresult.isLegal = false;\r\n\t\t\t\tresult.msg = '未定义类型';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t// 防抖函数：停止输入后延迟一秒执行传入函数\r\n\tdebounce() {\r\n\t\tvar timer = null;\r\n\t\treturn function (handler) {\r\n\t\t\twindow.clearTimeout(timer);\r\n\t\t\ttimer = window.setTimeout(function () {\r\n\t\t\t\thandler && handler();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\tonSubmit() {\r\n\t\t// 提交，验证所有，发送注册请求\r\n\t\tif (this.validator(\"nickname\").isLegal && this.validator(\"password\").isLegal && this.validator(\"password2\").isLegal) {\r\n\t\t\t// 验证名字\r\n\t\t\tthis.nicknameRepeat((result) => {\r\n\t\t\t\tif (!result) return;\r\n\t\t\t\t// 验证成功，进行注册\r\n\t\t\t\tconst newUser = {\r\n\t\t\t\t\tnickname: this.state.nickname,\r\n\t\t\t\t\tpassword: this.state.password,\r\n\t\t\t\t\tphone: this.props.register.phone\r\n\t\t\t\t}\r\n\t\t\t\taxios.post(config.HOST + \"/api/users/register\", newUser)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\t// 验证通过\r\n\t\t\t\t\t\t\tthis.props.getUser(newUser); // dispatch NEW_USER\r\n\t\t\t\t\t\t\tthis.props.history.push('/register/step3');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t\t\t...this.state.errors,\r\n\t\t\t\t\t\t\t\tsubmit: err.response.data\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"step2\">\r\n\t\t\t\t<h2>Step2</h2>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font1\">登录名</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"s2-i-right s2-font1\">\r\n\t\t\t\t\t\t{this.state.phone}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font1\">请设置登录密码</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"s2-i-right s2-font1\">\r\n\t\t\t\t\t\t<span className=\"s2-font2\">登录时验证，保护账号信息</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font2\">登录密码</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"s2-i-right s2-font1\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tplaceholder=\"设置你的登录密码\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\"border-err\": this.state.errors.password\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.errors.password && \r\n\t\t\t\t\t\t\t(<div className=\"register-err\">{this.state.errors.password}</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font2\">密码确认</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"s2-i-right s2-font1\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tplaceholder=\"再次输入你的密码\"\r\n\t\t\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tvalue={this.state.password2}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\"border-err\": this.state.errors.password2\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.errors.password2 && \r\n\t\t\t\t\t\t\t(<div className=\"register-err\">{this.state.errors.password2}</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font1\">设置会员名</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-item\">\r\n\t\t\t\t\t<div className=\"s2-i-left\">\r\n\t\t\t\t\t\t<span className=\"s2-font2\">登录名</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"s2-i-right s2-font1\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tplaceholder=\"会员名一旦设置成功，无法修改\"\r\n\t\t\t\t\t\t\tname=\"nickname\"\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tvalue={this.state.nickname}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\"border-err\": this.state.errors.nickname\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.errors.nickname && \r\n\t\t\t\t\t\t\t(<div className=\"register-err\">{this.state.errors.nickname}</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"s2-submit-wrap\">\r\n\t\t\t\t\t<button onClick={this.onSubmit.bind(this)} className=\"s2-submit\">提交</button>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.errors.submit && \r\n\t\t\t\t\t\t(<div className=\"register-err\">{this.state.errors.submit}</div>)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tregister: state.register\r\n\t}\r\n}\r\nfunction mapActionToProps(dispatch) {\r\n\treturn {\r\n\t\tchangeStep(step) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"STEP_CHANGE\",\r\n\t\t\t\tstep\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetUser(user) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"NEW_USER\",\r\n\t\t\t\tuser\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapActionToProps)(Step2);","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {Link} from 'react-router-dom'\n\nclass Step3 extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.props.changeStep(3);\n\t}\n\trender() {\n\t\tconst users = this.props.register\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h1>Step3</h1>\n\t\t\t\t<h2>{users.nickname},{users.phone}注册成功</h2>\n\t\t\t\t<Link to=\"/login\">现在登录</Link>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({register: state.register})\n\nfunction mapActionToProps(dispatch) {\n\treturn {\n\t\tchangeStep(step) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"STEP_CHANGE\",\n\t\t\t\tstep\n\t\t\t});\n\t\t}\n\t}\n}\nexport default connect(mapStateToProps, mapActionToProps)(Step3);\n","import './index.scss'\r\nimport Step1 from './subpage/step1'\t// 注册第一步\r\nimport Step2 from './subpage/step2'\t// 注册第二步\r\nimport Step3 from './subpage/step3'\t// 注册成功\r\n\r\nimport React, {Component} from 'react'\r\nimport {Route, Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nclass Register extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.history.push('/register/step1');\r\n\t}\r\n\tshowStep() {\r\n\t\tlet registerInfo = this.props.register; // redux 中 register\r\n\t\tlet step = '';\r\n\t\tif (registerInfo.step === 3) {\r\n\t\t\tstep = (<h3>1.设置用户名</h3>)\r\n\t\t}else if (registerInfo.step === 2) {\r\n\t\t\tstep = (<h3>2.填写账号信息</h3>)\r\n\t\t}else if (registerInfo.step === 1) {\r\n\t\t\tstep = (<h3>1.设置用户名</h3>)\r\n\t\t}else {\r\n\t\t\tstep = (<h3>look like some error...</h3>)\r\n\t\t}\r\n\t\treturn step;\r\n\t}\r\n\trender() {\r\n\t\tlet registerInfo = this.props.register; // redux 中 register\r\n\t\treturn (\r\n\t\t\t<div className=\"register-wrap\">\r\n\t\t\t\t<Link to=\"/login\">登录</Link><br/>\r\n\t\t\t\t<h1>Register</h1>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.showStep.call(this)\r\n\t\t\t\t}\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<Route exact path=\"/register/step1\" component={Step1} />\r\n\t\t\t\t\t<Route exact path=\"/register/step2\" component={Step2} />\r\n\t\t\t\t\t<Route exact path=\"/register/step3\" component={Step3} />\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tregister: state.register\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, null)(Register);","import React from 'react'\nimport axios from 'axios'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport config from '../../../utils/config.js'\nimport {setAuthToken, setCurrentUser} from '../../../utils/setAuth'\nimport {setLoginWay} from '../../../flux/actions/authActions'\nimport {isPhone, isEmpty, isLength} from '../../../utils/validator'\n\nclass Account extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taccount: '',\n\t\t\tpassword: '',\n\t\t\terrors: {}\n\t\t}\n\t\tthis.inputChange = this.inputChange.bind(this);\n\t}\n\tcomponentWillMount() {\n\t\t// store 中登录方式修改为 'account'\n\t\tif (this.props.auth.loginWay !== 'account') {\n\t\t\tthis.props.setLoginWay('account');\n\t\t}\n\t}\n\tinputChange(e) {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\tformSubmit() {\n\t\tlet errors = {};\n\t\tif (isEmpty(this.state.account)) {\n\t\t\terrors.account = '账号不能为空';\n\t\t}else if (!isLength(this.state.password, {min: 6, max: 18})) {\n\t\t\terrors.password = '密码长度 6-18 位';\n\t\t}\n\t\tif (!isEmpty(errors)) {\n\t\t\treturn this.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t...errors\n\t\t\t\t}\n\t\t\t})\n\t\t}\n    let info = {account: this.state.account, password: this.state.password};\n\t\taxios.post(config.HOST + '/api/users/login', info)\n\t\t\t.then(res => {\n        console.log(res)\n\t\t\t\tif (!res.data.success) {\n\t\t\t\t\treturn this.setState({\n\t\t\t\t\t\terrors: {\n\t\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\t\tsubmit:  res.data.message\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// 验证通过\n\t\t\t\tsetAuthToken(res.data.payload.token); // 请求头附加 token\n\t\t\t\tsetCurrentUser(res.data.payload);\n\t\t\t\tthis.props.history.push(this.props.auth.location || '/')\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terrors: {\n\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\tsubmit: err.response ? err.response.message : '服务器忙'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"l-input-wrap\">\n\t\t\t\t<div className=\"log-input1\">\n\t\t\t\t\t<label htmlFor=\"account\"></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\tvalue={this.state.account}\n\t\t\t\t\t\tplaceholder=\"昵称 / 手机号码\"\n\t\t\t\t\t\tname=\"account\"\n\t\t\t\t\t\tid=\"account\"\n\t\t\t\t\t\ttype=\"text\"/>\n\t\t\t\t</div>\n        {\n          !this.state.errors.account ? null :\n          <div>{this.state.errors.account}</div>\n        }\n\t\t\t\t<div className=\"log-input2\">\n\t\t\t\t\t<label htmlFor=\"password\"></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"密码\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n        {\n          !this.state.errors.password ? null :\n          <div>{this.state.errors.password}</div>\n        }\n\t\t\t\t<input type=\"submit\" onClick={this.formSubmit.bind(this)} value=\"登录\"/>\n        {\n          !this.state.errors.submit ? null :\n          <div>{this.state.errors.submit}</div>\n        }\n\t\t\t</div>\n\t\t)\n\t}\n}\nAccount.protTypes = {\n\tauth: PropTypes.object.isRequired,\n\tsetLoginWay: PropTypes.func.isRequired\n}\nconst mapStateToProps = state => {\n\treturn {\n\t\tauth: state.auth\n\t}\n}\nexport default connect(mapStateToProps, {setLoginWay})(Account);\n","import React from 'react'\nimport axios from 'axios'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport config from '../../../utils/config.js'\nimport {setAuthToken, setCurrentUser} from '../../../utils/setAuth'\nimport {setLoginWay} from '../../../flux/actions/authActions'\nimport {isPhone, isEmpty} from '../../../utils/validator'\n\n/**\n * 发送手机号到 sms接口，\n * 手机号合法 md5存储验证码并返回，\n * 登录发送手机号验证码，服务端入数据库匹配成功返回 token\n */\nclass PhoneLogin extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tphone: '',\n\t\t\tsms: '',\n\t\t\terrors: {}\n\t\t}\n\t\tthis.inputChange = this.inputChange.bind(this);\n\t}\n\tcomponentWillMount() {\n\t\t// store 中登录方式修改为 'phone'\n\t\tif (this.props.auth.loginWay !== 'phone') {\n\t\t\tthis.props.setLoginWay('phone');\n\t\t}\n\t}\n\tinputChange(e) {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\tsendSMS() {\n\t\tif (!isPhone(this.state.phone)) {\n\t\t\treturn this.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\tphone: '手机号码错误'\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t// 格式正确\n\t\tif (this.state.errors.phone) {\n\t\t\tthis.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\tphone: '',\n\t\t\t\t\tsms: ''\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\taxios.post(config.HOST + \"/api/operator/testsms\", {phone: this.state.phone})\n\t\t\t.then(({data}) => {\n\t\t\t\tconsole.log(data.smsCode);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\tsubmit() {\n\t\tlet errors = false;\n\t\tif (!isPhone(this.state.phone)) {\n\t\t\terrors = {phone: '手机号码错误'}\n\t\t}else if (isEmpty(this.state.sms)) {\n\t\t\terrors = {sms: '验证码为空'}\n\t\t}\n\t\tif (errors) {\n\t\t\treturn this.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t...errors\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t// 格式验证成功\n\t\tconst user = {phone: this.state.phone, sms_code: this.state.sms}\n\t\taxios.post(config.HOST + '/api/users/phonelogin', user)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (!res.data.success) {\n\t\t\t\t\treturn this.setState({\n\t\t\t\t\t\terrors: {\n\t\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\t\tsubmit: res.data.message\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// 验证通过\n\t\t\t\tsetAuthToken(res.data.payload.token) // 请求头附加 token\n\t\t\t\tsetCurrentUser(res.data.payload)\n        this.props.history.push(this.props.auth.location || '/')\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terrors: {\n\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\tsubmit: err.response ? err.response.message : '服务器忙'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"l-input-wrap\">\n\t\t\t\t<div className=\"log-input1\">\n\t\t\t\t\t<label htmlFor=\"phone\"></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"输入手机号码\"\n\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\tvalue={this.state.phone}\n\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\ttype=\"text\"/>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tthis.state.errors.phone ?\n\t\t\t\t\t<span>{this.state.errors.phone}</span>:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t\t<div className=\"log-input2\">\n\t\t\t\t\t<label htmlFor=\"sms\"></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"填写验证码\"\n\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\tvalue={this.state.sms}\n\t\t\t\t\t\tname=\"sms\"\n\t\t\t\t\t\tid=\"sms\"\n\t\t\t\t\t\ttype=\"text\"/>\n\t\t\t\t\t<button className=\"btn\" onClick={this.sendSMS.bind(this)}>发送验证码</button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tthis.state.errors.sms ?\n\t\t\t\t\t<span>{this.state.errors.sms}</span>:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t\t<input type=\"submit\" onClick={this.submit.bind(this)} value=\"登录\"/>\n\t\t\t\t{\n\t\t\t\t\tthis.state.errors.submit ?\n\t\t\t\t\t<span>{this.state.errors.submit}</span>:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPhoneLogin.protTypes = {\n\tauth: PropTypes.object.isRequired,\n\tsetLoginWay: PropTypes.func.isRequired\n}\nconst mapStateToProps = state => {\n\treturn {\n\t\tauth: state.auth\n\t}\n}\nexport default connect(mapStateToProps, {setLoginWay})(PhoneLogin);\n","import React, {Component} from 'react'\nimport {Link, Route} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport cnames from 'classnames'\n\nimport './login.scss'\nimport Account from './subpage/Account'\nimport PhoneLogin from './subpage/PhoneLogin'\n\nclass Login extends Component {\n  componentWillMount() {\n    // 已登录，不能访问登录页面\n    if (this.props.auth.isLogin) {\n      this.props.history.goBack()\n    }\n  }\n\trender() {\n\t\t/**\n\t\t * v4 包含路由 和 精准路由\n\t\t */\n\t\t// 登录样式\n\t\tlet loginWay = this.props.auth.loginWay;\n\t\tconst classPhone = loginWay === 'phone' ? 'f1' : 'f2';\n\t\tconst classAccount = loginWay === 'account' ? 'f1' : 'f2';\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"login-wrap\">\n\t\t\t\t\t<div className=\"login-title\"></div>\n\t\t\t\t\t<div className=\"login-form\">\n\t\t\t\t\t\t<div className=\"form\">\n\t\t\t\t\t\t\t<div className=\"form-t\">\n\t\t\t\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t\t\t\t<div className={'t-l ' + classPhone}>手机登录</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Link to=\"/login/account\">\n\t\t\t\t\t\t\t\t\t<div className={'t-r ' + classAccount}>账户登录</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t\t<Route exact path=\"/login/account\" component={Account} />\n\t\t\t\t\t\t\t\t<Route exact path=\"/login\" component={PhoneLogin} />\n\t\t\t\t\t\t\t</main>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tauth: state.auth\n\t}\n}\n\nexport default connect(mapStateToProps, null)(Login);\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport config from '../../utils/config'\n\nimport './search.scss'\n\nimport { setSearchKeyAction } from '../../flux/actions/productActions'\n\nvar beforeKey = ''\nvar searchKey = ''\nvar historyPush;\n\nfunction searchInputChange(e) {\n  searchKey = e.target.value\n}\n\nfunction searchProduct() {\n  if (searchKey === beforeKey) return;\n  // url 第一个参数没有改变页面不会重新渲染\n  // historyPush('/404')\n  // setTimeout(function() {\n    historyPush(`/search_product?q=${searchKey}&limit1=0&limit2=50`)\n  // }, 100)\n}\n\nconst Search = (props) => {\n  searchKey = beforeKey = props.searchKey || ''\n  historyPush = props.historyPush || function(){}\n  return (\n    <div className=\"sear\">\n      <div className=\"sear-logo\"><Link to=\"/\"><img src={`${config.HOST}/image/ui/search_home_logo.png`} alt=\"\"/></Link></div>\n      <div className=\"sear-input-wrap\">\n        <div>\n          <div>\n            <input defaultValue={searchKey} onChange={searchInputChange}  className=\"sear-input\" type=\"text\"/>\n          </div>\n          <div>\n            <button onClick={searchProduct} className=\"com-search-btn\">搜索</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nSearch.propType = {\n  searchKey: PropTypes.string,\n  historyPush: PropTypes.func.isRequired\n}\n\nfunction mapStateToProps(state) {\n  return {\n    searchKey: state.product.searchKey\n  }\n}\n\nexport default connect(mapStateToProps, {setSearchKeyAction})(Search)\n","import React from 'react'\n\nconst Wait = () => {\n  return (\n    <div>\n      <h2>加载中。。。。</h2>\n    </div>\n  )\n}\nexport default Wait\n","import React from 'react'\n\nconst ErrorPage = (props) => {\n  return (\n    <div>\n      <h2>错误：{props.message}</h2>\n    </div>\n  )\n}\nexport default ErrorPage\n","import React from 'react'\n\nconst Empty = () => {\n  return (\n    <div>\n      <h2>没有搜索到数据。。。。</h2>\n    </div>\n  )\n}\nexport default Empty\n","import React from 'react'\nimport classnames from 'classnames'\nimport config from '../../../utils/config'\nimport { Link } from 'react-router-dom'\n\nfunction splitName(name) {\n  if (name.length <= 50) return name;\n  return name.substring(0,50) + '...'\n}\n\nconst GoodsList = (props) => {\n  const HOST = config.HOST\n  return (\n    <div className=\"goodlist-wrap\">\n      {\n        props.goods.map((product, index) => {\n          return (\n            <div className={classnames(\"good-wrap\", {\n              rowlast: index>0 && index % 4 === 0\n            })} key={index}>\n              <Link to={`/product_detail?goodId=${product._id}`}>\n                <div className=\"goodlogo-box\"><img src={`${HOST}/image/goods/logo/${product.logo}`} alt=\"\"/></div>\n              </Link>\n              <div className=\"good-price\"><span className=\"p_f1\">￥</span><span className=\"p_f2\">{product.nowPrice}</span></div>\n              <Link to={`/product_detail?goodId=${product._id}`}>\n                <div className=\"good-name\"><span>{splitName(product.goodName)}</span></div>\n              </Link>\n              <div className=\"good-store\"><span className=\"s_f1\">店铺：</span><span className=\"s_f2\">{product.storeName}</span></div>\n              <div className=\"good-number-box\">\n                <div className=\"good-number\">\n                  <span className=\"n_f1\">成交量：</span><span className=\"n_f2\">{product.number}笔</span>\n                </div>\n                <div className=\"good-number-chat\">\n                  聊\n                </div>\n              </div>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\nexport default GoodsList\n","import React from 'react'\nimport axios from 'axios'\nimport PropTypes from 'prop-types'\nimport config from '../../utils/config'\n\nimport './goods.scss'\nimport Wait from './subpage/Wait'\nimport ErrorPage from './subpage/ErrorPage'\nimport Empty from './subpage/Empty'\nimport GoodsList from './subpage/GoodsList'\n\nconst HOST = config.HOST\n\n// props.goods 为undefined 或空数组，显示默认空结果页面\nclass Goods extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      goods: [],\n      status: 'wait',\n      error: ''\n    }\n  }\n  componentWillMount() {\n    const searchUrl = this.props.searchUrl\n    if (!searchUrl) {\n      // 参数错误\n      return this.setState({\n        status: 'empty'\n      })\n    }\n    axios.get(HOST + searchUrl)\n      .then(res => {\n        console.log(res)\n        if (res.data.success) {\n          // 请求成功\n          this.setState({\n            status: 'end',\n            goods: res.data.payload\n          }, () => {\n            // 给父组件回调 goods\n            this.props.getGoods && this.props.getGoods(res.data.payload)\n          })\n        } else {\n          // 请求失败\n          this.setState({\n            status: 'error',\n            error: res.message\n          })\n        }\n      })\n      .catch(err => {\n        // 请求错误\n        console.error(err)\n        this.setState({\n          status: 'error',\n          error: err.message\n        })\n      })\n  }\n  render() {\n    return (\n      <div>\n        {\n          this.state.status === 'wait' ? <Wait /> :\n          this.state.status === 'error' ? <ErrorPage message={this.state.error} /> :\n          this.state.goods.length === 0 ? <Empty /> :\n          <GoodsList goods={this.state.goods} />\n        }\n      </div>\n    )\n  }\n}\nGoods.propTypes = {\n  searchUrl: PropTypes.string.isRequired,\n  getGoods: PropTypes.func\n}\n\nexport default Goods\n","import React from 'react'\nimport axios from 'axios'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\nimport { connect } from 'react-redux'\nimport config from '../../../utils/config'\n\nconst HOST = config.HOST\n\nfunction subStoreName(name) {\n  if (typeof name !== 'string' || name.length < 6) return name;\n  return name.substring(0,5) + '...';\n}\nclass SubStore extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      stores: [],\n      detailTypes: []\n    }\n  }\n\n  // props.goods 参数更新, 根据 goods 请求 store 的信息\n  componentWillReceiveProps(nextProps) {\n    const goods = nextProps.goods\n    if (!Array.isArray(goods) || goods.length < 1) return;\n    // 根据detailType 请求 smaillType\n    axios.get(`${HOST}/api/goods/type?type=detail&detailId=${goods[0].detailId}`)\n      .then(res => {\n        if (res.data.success) {\n          this.setState({\n            detailTypes: res.data.payload\n          })\n        }\n      })\n      .catch(err => {\n        console.error(err)\n      })\n    // 获取 goods 中的 storeId\n    let storeIds = [];\n    storeIds.push(goods[0].storeId)\n    for (var i = 1, len = goods.length; i < len; i ++) {\n      var storeId = goods[i].storeId\n      var repeat = false\n        // 去重\n      for (var j = 0, len2 = storeIds.length; j < len2; j++) {\n        if (storeId === storeIds[j]) {\n          repeat = true\n          break\n        }\n      }\n      if (!repeat) storeIds.push(storeId)\n    }\n    // 请求 stores\n    if (storeIds.length < 1) return;\n    const jsonStoreIds = JSON.stringify(storeIds)\n    axios.get(`${HOST}/api/goods/search_store?storeIds=${jsonStoreIds}`)\n      .then(res => {\n        if (res.data.success) {\n          this.setState({\n            stores: res.data.payload\n          })\n        }\n      })\n      .catch(err => {\n        console.error(err)\n      })\n  }\n\n  render() {\n    return (\n      <div className=\"substore\">\n        {\n          /*展示首页 > 小分类 > 详细分类s */\n          this.state.detailTypes.length > 0 && (\n            <div className=\"crum\">\n              <div className=\"crum-1\"><Link to=\"/\"><span>首页</span></Link></div>\n              <div className=\"crum-2\">\n                <Link to={`/search_product?smaillId=${this.state.detailTypes[0].smaillId}`}>\n                  <span>{this.state.detailTypes[0].smaillName}</span>\n                </Link>\n              </div>\n              <div  className=\"crum-3\">\n                <Link to={`/search_product?detailId=${this.props.goods[0].detailId}`}>\n                  <span>\n                  {\n                    this.state.detailTypes.find((detail, index) => {\n                      return detail.detailId === this.props.goods[0].detailId\n                    }).detailName\n                  }\n                  </span>\n                </Link>\n                <ul className=\"crum-details\">\n                {\n                  this.state.detailTypes.map((detailType, index) => (\n                    <li className=\"\" key={index}>\n                      <Link\n                        className={classnames({'crum-selected': detailType.detailId === this.props.goods[0].detailId})}\n                        to={`/search_product?detailId=${detailType.detailId}`}\n                      >{detailType.detailName}</Link>\n                    </li>\n                  ))\n                }\n                </ul>\n              </div>\n            </div>\n          )\n        }\n        <div className=\"substore-logo-box\">\n          <div className=\"s-logo-title\">店铺</div>\n          <div className=\"s-logo-wrap\">\n          {\n            /*展示店铺图片*/\n            this.state.stores.map((store, index) => {\n              if (index > 8) return null\n              return (\n                <div className=\"s-logo-item\" key={index}>\n                  <div className=\"s-store-logo\"><img src={`${HOST}/image/store/logo/${store.logo}`} alt=\"\"/></div>\n                  <div className=\"s-store-name\"><span>{subStoreName(store.storeName)}</span></div>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nSubStore.propTypes = {\n  goods: PropTypes.array.isRequired\n}\n\nfunction mapStateToProps(state) {\n  return {\n    goods: state.product.searchGoods\n  }\n}\n\nexport default connect(mapStateToProps, null)(SubStore)\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport queryString from 'query-string'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport config from '../../utils/config'\n\nimport './index.scss'\nimport Header from '../../components/Header'\nimport Search from '../../components/Search'\nimport Goods from '../../components/Goods'\nimport SubStore from './subpage/SubStore'\n\nimport { setSearchGoodsAction, setSearchKeyAction } from '../../flux/actions/productActions'\n\nclass SearchProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchKey: props.match.params.q, // 游戏本\n      searchUrl: props.history.location.search, // /?limit1=0&limit2=50\n    }\n    // 刷新后 store.searchKey 为空\n    if (props.searchKey === '') {\n      props.setSearchKeyAction(this.state.searchKey)\n    }\n    this.getGoods = this.getGoods.bind(this)\n    this.getSearchProductUrl = this.getSearchProductUrl.bind(this)\n  }\n\n  componentWillMount() {\n    this.getSearchProductUrl()\n  }\n\n  getGoods(goods) {\n    this.props.setSearchGoodsAction(goods)\n  }\n\n  getSearchProductUrl() {\n    var search = queryString.parse(this.props.location.search);\n    var url = '/api/goods/search_product?'\n    var isvalid = false\n    if (search.q) {\n      url += `q=${search.q}&`\n      isvalid = true\n    }\n    if (/^\\d+$/.test(search.detailId)) {\n      url += `detailId=${search.detailId}&`\n      isvalid = true\n    }else if (/^\\d+$/.test(search.smaillId)) {\n      url += `smaillId=${search.smaillId}&`\n      isvalid = true\n    }else if (/^\\d+$/.test(search.bigId)) {\n      url += `bigId=${search.bigId}&`\n      isvalid = true\n    }\n    if (search.storeId) {\n      url += `storeId=${search.storeId}&`\n    }\n    if (!isvalid) {\n      return '';\n    }\n    if (search.order === 'price' || search.order === 'number') {\n      url += `order=${search.order}&sort=`\n      url += search.sort === 'asc' ? 'asc&' : 'desc&'\n    }\n    url += (/^\\d+$/.test(search.limit1) ? `limit1=${search.limit1}&` : '')\n    url += (/^\\d+$/.test(search.limit2) ? `limit2=${search.limit2}` : 'limit2=10')\n    return url;\n  }\n\n  render() {\n    const goods = this.props.searchGoods\n    return (\n      <div>\n        <Header />\n        <Search historyPush={this.props.history.push}  />\n        <div className=\"search-product\">\n          <hr className=\"search-hr\" />\n          <SubStore />\n          <Goods getGoods={this.getGoods} searchUrl={this.getSearchProductUrl()} />\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    searchGoods: state.product.searchGoods,\n    searchKey: state.product.searchKey\n  }\n}\n\nexport default connect(mapStateToProps, { setSearchGoodsAction,setSearchKeyAction })(SearchProduct)\n\n","import React from 'react'\nimport { historyPush } from './index'\n\nclass GotoSearchProduct extends React.Component {\n  componentWillMount() {\n    this.props.history.push('/search_products' + this.props.location.search)\n  }\n  render() {\n    return (\n      <div>404</div>\n    )\n  }\n}\nexport default GotoSearchProduct\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter, Link } from 'react-router-dom'\n\nimport './index.scss'\nimport config from '../../utils/config'\nconst HOST = config.HOST\n\nclass StoreHeader extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchKey: ''\n    }\n    this.onSearchInputChange = this.onSearchInputChange.bind(this)\n  }\n  onSearchInputChange(e) {\n    this.setState({\n      searchKey: e.target.value\n    })\n  }\n  // 搜所有\n  searchAllProduct() {\n    if (this.state.searchKey !== '')\n      this.props.history.push(`/search_products?q=${this.state.searchKey}`)\n  }\n  // 搜本店\n  searchStoreProduct() {\n    if (this.state.searchKey !== '')\n      this.props.history.push(`/search_products?q=${this.state.searchKey}&storeId=${this.props.storeInfo.storeId}`)\n  }\n  render() {\n    const storeInfo = this.props.storeInfo\n    return (\n      <div className=\"store-header\">\n          <div className=\"store-cp-logo\">\n            <Link to=\"/\">\n              <img src={`${HOST}/image/ui/storetitle.png`} height=\"60px\" />\n            </Link>\n          </div>\n        <div className=\"store-info-wrap\">\n          <div className=\"store-info-logo\">\n              <img height=\"60px\" src={`${HOST}/image/store/logo/${storeInfo.logo || 'default.jpg'}`} alt=\"优选\"/>\n          </div>\n\n          <div className=\"store-info\">\n            <p className=\"store-name\">店铺：{storeInfo.storeName}</p>\n            <p className=\"store-boos\">掌柜：{storeInfo.nickname}</p>\n          </div>\n        </div>\n        <div className=\"store-search\">\n          <div className=\"store-search-input\"><input value={this.state.searchKey} onChange={this.onSearchInputChange} type=\"text\"/></div>\n          <button style={{background: `url(\"${HOST}/image/ui/TB1ZWVhJpXXXXa4XVXXs1m4TXXX-458-36.png\") top right no-repeat`}} className=\"store-search-btn-all\" onClick={this.searchAllProduct.bind(this)}>搜索</button>\n          <button className=\"store-search-btn-this\" onClick={this.searchStoreProduct.bind(this)}>搜本店</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nStoreHeader.propTypes = {\n  storeInfo: PropTypes.object.isRequired\n}\n\nexport default withRouter(StoreHeader)\n","// 将两个数转换成整数相乘\nexport const intMultiplication = function (a, b) {\n  a = a+''\n  b = b+''\n  var deci = 0  // 2个操作数的小数位数\n  // 判断是否小数\n  if (/^\\d+\\.\\d+$/.test(a)) {\n    deci += a.replace(/^\\d+\\.(?=\\d+$)/, '').length\n    a = a.replace('.', '')\n  }\n  if (/^\\d+\\.\\d+$/.test(b)) {\n    deci += b.replace(/^\\d+\\.(?=\\d+$)/, '').length\n    b = b.replace('.', '')\n  }\n  var result = (Number(a) * Number(b)) + ''\n  return deci > 0 ? result.substring(0, result.length - deci) + '.' + result.substring(result.length - deci) : result\n}\n\n// 将两个数转换成整数相加\nexport const intAdd = function (a, b) {\n  a = a + ''\n  b = b + ''\n  var deci1 = 0;\n  var deci2 = 0;\n  if (/^\\d+\\.\\d+$/.test(a)) {\n    deci1 = a.replace(/^\\d+\\.(?=\\d+$)/, '').length\n    a = a.replace('.', '')\n  }\n  if (/^\\d+\\.\\d+$/.test(b)) {\n    deci2 += b.replace(/^\\d+\\.(?=\\d+$)/, '').length\n    b = b.replace('.', '')\n  }\n  if (deci1 !== deci2) {\n    for (var i = 0, len = Math.abs(deci1 - deci2); i < len; i++) {\n    if (deci1 < deci2) {\n      a += '0'\n    }else {\n      b += '0'\n    }\n    }\n  }\n  var result = Number(a) + Number(b) + ''\n  var maxDeci = Math.max(deci1, deci2)\n  return maxDeci !== 0 ? result.substring(0, result.length - maxDeci) + '.' + result.substring(result.length - maxDeci) : result\n}\n\nexport const transPrice = function (price) {\n  return /^\\d+$/.test(price) ? price + '.00' :  // 没有小数\n  /^\\d+\\.\\d$/.test(price) ? price + '0' : price  // 一位小数\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport config from '../../../utils/config'\nimport { transPrice } from '../../../utils/tools'\n\nimport { setBuyProductsAction } from '../../../flux/actions/orderActions'\n\nconst HOST = config.HOST\n\nclass Spec extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      smaillx: 0,\n      smailly: 0,\n      bigImg: false, // 是否展示大图\n      showMustChoice: false,\n      selectImg: props.smaillPicture[0].link,\n      nowPrice: 99999,\n      allAmount: 0, // 商品总库存\n      specChoice: [],  // 选中的属性组合\n      choiceProductDetail: {},  // 选中属性组合的商品详情\n      choiceNumber: 1,\n      specConfig: [] // 重新组合后的属性关系映射\n    }\n    this.specValueClick = this.specValueClick.bind(this)\n    this.onSmaillMouseOver = this.onSmaillMouseOver.bind(this)\n  }\n\n  componentWillMount() {\n    // 重新组合属性关系映射\n    var config = this.props.specConfig\n    var newConfig = []\n    if (Array.isArray(config)) {\n      for (var j = 0; j < config.length; j++) {\n        if (newConfig[config[j].detailIndex - 1] === undefined) {\n           newConfig[config[j].detailIndex - 1] = []\n        }\n        newConfig[config[j].detailIndex - 1][config[j].specNameIndex-1] = config[j].specValueIndex\n      }\n      // 计算总库存\n      var allAmount = 0\n      for (var i = 0, len = this.props.goodDetail.length; i < len; i++) {\n        allAmount += this.props.goodDetail[i].amount\n      }\n    }\n    // 删除库存为 0 属性\n    this.setState({\n      nowPrice: this.props.goodInfo.nowPrice || 99999,\n      specConfig: newConfig,\n      allAmount: allAmount,\n      selectImg: this.props.smaillPicture[0].link,\n      // 商品没有属性分类\n      choiceProductDetail: Array.isArray(this.props.specName) && this.props.specName.length > 0 ? {} : this.props.goodDetail[0]\n    })\n  }\n\n  // 点击选择属性\n  specValueClick(value) {\n    var _this = this\n    return function () {\n      // 更新选择的属性\n      if (_this.state.specChoice[value.specNameIndex-1] === value.indexx) return;\n      var specChoice = [..._this.state.specChoice]\n      specChoice[value.specNameIndex-1] = value.indexx\n\n      // 更新选择的商品详情和价格\n      var specConfig = _this.state.specConfig\n      var choiceProductDetail = _this.state.choiceProductDetail\n      for (var i = 0, len = specConfig.length; i < len; i++) {\n        var isOK = true\n        for (var j = 0, len2 = specConfig[i].length; j < len2; j++) {\n          if (specChoice[j] !== specConfig[i][j]) {\n            isOK = false\n            break;\n          }\n        }\n        if (isOK) {\n          choiceProductDetail = _this.props.goodDetail.find(item => item.indexx === i+1)\n          break;\n        }\n      }\n      _this.setState({\n        specChoice,\n        choiceProductDetail\n      })\n    }\n  }\n\n  // 点击选择数量\n  choiceNumberChange(e) {\n    var number = e.target.value\n    var before = this.state.choiceNumber\n    var _this = this\n    this.setState({\n      choiceNumber: number\n    }, function () {\n      if (!/^[1-9]\\d{0,}$/.test(number)) {\n        setTimeout(function () {\n          _this.setState({\n            choiceNumber: /^[1-9]\\d{0,}$/.test(before) ? before : 1\n          })\n        }, 200)\n      }\n    })\n  }\n  // 数量减一\n  minusNumber() {\n    this.choiceNumberChange({ target: {value: this.state.choiceNumber - 1} })\n  }\n  // 数量加一\n  plusNumber() {\n    this.choiceNumberChange({ target: {value: this.state.choiceNumber + 1} })\n  }\n  // 鼠标移到小图片上\n  onSmaillMouseOver(link) {\n    var _this = this\n    return function () {\n      _this.setState({\n        selectImg: link\n      })\n    }\n  }\n  // 关闭必须选择框\n  closeMustChoice() {\n    this.setState({\n      showMustChoice: false\n    })\n  }\n  buyNow() {\n    console.log(this.state)\n    // 如果商品未选择，或选择数量大于库存量\n    if (this.state.choiceProductDetail.amount === undefined || this.state.choiceProductDetail.amount < this.state.choiceNumber) {\n      return this.setState({\n        showMustChoice: true\n      })\n    }\n    var buyProduct = [{\n      goodId: this.props.goodId,\n      productName: this.props.goodInfo.goodName,\n      specName: this.props.specName,\n      specValue: this.props.specValue,\n      specChoice: this.state.specChoice,\n      productDetail: this.state.choiceProductDetail,\n      number: this.state.choiceNumber,\n      storeName: this.props.storeInfo.storeName,\n      nickname: this.props.storeInfo.nickname\n    }]\n    this.props.setBuyProductsAction(buyProduct)\n    this.props.history.push('/order')\n  }\n  render() {\n    const goodInfo = this.props.goodInfo\n    const smaillPicture = this.props.smaillPicture\n    return (\n      <div className=\"spec-wrap\">\n        {/*图片组*/}\n        <div className=\"spec-smail-picture-wrap\">\n          <div className=\"spec-smail-bigone-wrap\"><img className=\"spec-smail-bigone\" height=\"430px\" src={`${HOST}/image/goods/smaill/${this.state.selectImg}_430x430q90.jpg`} alt=\"\"/></div>\n          <div className=\"spec-smaill-item-wrap\">\n            {\n              this.props.smaillPicture.map((item, index) => (\n                <div key={index} className=\"spec-priture-item\">\n                  <div className={this.state.selectImg === item.link ? \"spec-img-selected\" : \"spec-item-img-box\"}\n                      onMouseOver={this.onSmaillMouseOver(item.link)}\n                  >\n                    <img src={`${HOST}/image/goods/smaill/${item.link}_60x60q90.jpg`} alt=\"\"/>\n                  </div>\n                </div>\n              ))\n            }\n          </div>\n        </div>\n        {/*spec属性信息*/}\n        <div className=\"spec-goodinfo\">\n          <h3 className=\"spec-good-name\">{goodInfo.goodName}</h3>\n          <div className=\"spec-good-price\" style={{background: `url(${HOST}/image/ui/price_background.png) left top`}}>\n            <span className=\"sgp-f1\">价格</span>\n            <span className=\"sgp-f2\">￥</span>\n            <span className=\"sgp-f3\">{transPrice(this.state.choiceProductDetail.price || this.state.nowPrice)}</span>\n          </div>\n          <div className=\"sell-count\">\n            <div className=\"sell-count-l\"><span className=\"sc-f1\">总销量</span><span className=\"sc-f2\">{goodInfo.number}</span></div>\n            <div className=\"sell-count-r\"><span className=\"sc-f1\">累计评价</span><span className=\"sc-f2\">{this.props.comments.length}</span></div>\n          </div>\n          <div className={classnames({\"show-choice\": this.state.showMustChoice})}>\n            <div style={{display: this.state.showMustChoice ? 'block':'none'}} className=\"show-choice-title\">\n              <div className=\"sct-l\">请选择您要的商品信息</div>\n              <div onClick={this.closeMustChoice.bind(this)} className=\"sct-r\">X</div>\n            </div>\n            {\n              this.props.specName && this.props.specName.map((name, index) => (\n                <div className=\"specName-wrap\" key={index}>\n                  <div className=\"spec-name\">{name.specName}</div>\n                  <div className=\"spec-value\">\n                  {\n                    this.props.specValue && this.props.specValue.map((value, index) => {\n                      return value.specNameIndex === name.indexx ?  (\n                        <div\n                          className={classnames('spec-value-item', {'value-item-selected':this.state.specChoice[name.indexx-1] === value.indexx})}\n                          onClick={this.specValueClick(value)}\n                          key={index}\n                        >\n                          <span>{value.specValue}</span>\n                          <i className=\"item-selected-i\" style={{\n                            background: `url(${HOST}/image/ui/background_selected.png) 0px 0px no-repeat`\n                          }}></i>\n                        </div>\n                      ) : null\n                    })\n                  }\n                  </div>\n                </div>\n              ))\n            }\n            <div className=\"g-num-wrap\">\n              <div className=\"good-number-name\">数量</div>\n              <div className=\"good-number-wrap\">\n                <div className=\"spec-num-input-wrap\">\n                  <input className=\"spec-number-input\" value={this.state.choiceNumber} onChange={this.choiceNumberChange.bind(this)} type=\"text\"/>\n\n                </div>\n                <div className=\"good-number-plus-minus\">\n                  <div onClick={this.plusNumber.bind(this)} className=\"spec-number-plus\" style={{background: `url(${HOST}/image/ui/plus.png) no-repeat`, backgroundSize: '11px 11px', marginBottom: '4px', border: '1px solid #a7a6ab'}}></div>\n                  <div onClick={this.minusNumber.bind(this)} className=\"spec-number-minus\" style={{background: `url(${HOST}/image/ui/minus.png) no-repeat`, backgroundSize: '11px 11px', border: '1px solid #a7a6ab'}}></div>\n                </div>\n              </div>\n              <div className=\"good-num-unit\">件</div>\n              <div className=\"good-num-kucun\">库存{this.state.choiceProductDetail.amount === undefined ? this.state.allAmount : this.state.choiceProductDetail.amount}件</div>\n            </div>\n            <div\n              style={{\n                display: this.state.choiceProductDetail.amount !== undefined ? (this.state.choiceNumber > this.state.choiceProductDetail.amount ? 'block' : 'none') : (this.state.choiceNumber > this.state.allAmount ? 'block' : 'none'),\n                marginTop: '10px',\n                marginLeft: '70px',\n              }}\n            >\n              <span className=\"good-num-over\">\n                <span style={{\n                  display: 'inline-block',\n                  background: `url(${HOST}/image/ui/msg.png) -61px -1px no-repeat`,\n                  width: '23px',\n                  height: '22px',\n                  marginBottom: '-5px'\n                }}></span>\n                <span>您所填写数量商品超过库存！</span>\n              </span>\n            </div>\n          </div>\n          <div className=\"good-buy-wrap\">\n            <button onClick={this.buyNow.bind(this)}\n              className={classnames(\"good-buy-now\", {\n                'buy-now-noPost': this.state.choiceProductDetail.amount !== undefined ? (this.state.choiceNumber > this.state.choiceProductDetail.amount || this.state.choiceProductDetail.amount === 0) : (this.state.choiceNumber > this.state.allAmount)\n              })} to=\"/\">立即购买</button>\n            <button className={classnames(\"add-shopcat\", {\n                'add-shopcat-noPost': this.state.choiceProductDetail.amount !== undefined ? (this.state.choiceNumber > this.state.choiceProductDetail.amount || this.state.choiceProductDetail.amount === 0) : (this.state.choiceNumber > this.state.allAmount)\n              })}>加入购物车</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nSpec.propTypes = {\n  goodId: PropTypes.string.isRequired,\n  goodDetail: PropTypes.array.isRequired,\n  goodInfo: PropTypes.object.isRequired,\n  smaillPicture: PropTypes.array.isRequired,\n  specConfig: PropTypes.array,\n  specName: PropTypes.array,\n  specValue: PropTypes.array,\n  comments: PropTypes.array.isRequired,\n  setBuyProductsAction: PropTypes.func.isRequired,\n  storeInfo: PropTypes.object.isRequired,\n}\nfunction mapStateToProps(state) {\n  return {\n    goodDetail: state.product.productDetail.goodDetail,\n    goodInfo: state.product.productDetail.goodInfo,\n    smaillPicture: state.product.productDetail.smaillPicture,\n    specConfig: state.product.productDetail.specConfig,\n    specName: state.product.productDetail.specName,\n    specValue: state.product.productDetail.specValue,\n    comments: state.product.productDetail.comments,\n    goodId: state.product.productDetail.goodId,\n  }\n}\nexport default withRouter(connect(mapStateToProps, { setBuyProductsAction })(Spec))\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport config from '../../../utils/config'\nconst HOST = config.HOST\n\n/**\n * 未实现懒加载\n */\nclass ProductInfo extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showDetail: true\n    }\n  }\n  showDetial(showDetail) {\n    return function() {\n      this.setState({\n        showDetail\n      })\n    }\n  }\n  render() {\n    return (\n      <div className=\"product-info-wrap\">\n        <div className=\"product-info-box\">\n          <div className=\"product-info-nav\">\n            <div className={classnames(\"pin-1\", {\n              'product-info-selected': this.state.showDetail\n            })} onClick={this.showDetial(true).bind(this)}>商品详情</div>\n            <div className={classnames(\"pin-2\", {\n              'product-info-selected': !this.state.showDetail\n            })} onClick={this.showDetial(false).bind(this)}>累计评价</div>\n          </div>\n          {\n            /*商品详情图*/\n            this.state.showDetail && this.props.infoPicture.map((item, index) => (\n              <div className=\"info-picture-item\" key={index}><img src={`${HOST}/image/goods/info/${item.link}`}/></div>\n            ))\n          }\n          {\n            /*评论*/\n            this.props.comments.map((item, index) => (\n              <div key={index}>\n                <div>{item.nickname}</div>\n                <div>{item.content}</div>\n                <div>{item.creaTime}</div>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    )\n  }\n}\nProductInfo.propTypes = {\n  infoPicture: PropTypes.array.isRequired,\n  comments: PropTypes.array.isRequired,\n}\n\nexport default ProductInfo\n","import React from 'react'\nimport queryString from 'query-string'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { setProductDetailAction } from '../../flux/actions/productActions'\nimport { setRouterLocationAction } from '../../flux/actions/authActions'\n\nimport './index.scss'\nimport Header from '../../components/Header'\nimport StoreHeader from '../../components/StoreHeader'\nimport Spec from './subpage/Spec'\nimport ProductInfo from './subpage/ProductInfo'\n\nclass ProductDetail extends React.Component {\n  componentWillMount() {\n    const info = queryString.parse(this.props.location.search)\n    // 没有 goodId 返回上一级路由\n    if (!/^\\d+/.test(info.goodId)) {this.props.history.push(this.props.auth.location || '/')}\n    this.props.setProductDetailAction(info.goodId)\n\n    this.props.setRouterLocationAction('/product_detail' + this.props.location.search)\n  }\n  componentWillUnmount() {\n    // 将 store 中的 productDetail，变成初始状态\n    this.props.setProductDetailAction(-1)\n  }\n  render() {\n    const product = this.props.productDetail\n    return (\n      <div>\n        <Header />\n        {\n          product.goodDetail.length < 1 ?\n            <div>{product.error || product.message || '商品还没有详情'}</div> :\n            <div>\n              {/*店铺头信息*/}\n              <StoreHeader storeInfo={product.goodInfo} />\n              <hr className=\"store-hr\" />\n              {/*商品信息属性*/}\n              <Spec storeInfo={product.goodInfo} />\n              {/*商品介绍信息*/}\n              <ProductInfo comments={product.comments} infoPicture={product.infoPicture} />\n            </div>\n        }\n      </div>\n    )\n  }\n}\n\n\nProductDetail.propTypes = {\n  productDetail: PropTypes.object.isRequired,\n  setProductDetailAction: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    productDetail: state.product.productDetail\n  }\n}\nexport default connect(mapStateToProps, { setProductDetailAction,setRouterLocationAction })(ProductDetail)\n","import React from 'react'\n\nconst Safety = function (props) {\n  return (\n    <div>Safety</div>\n  )\n}\nexport default Safety\n","import React from 'react'\n\nconst MyInfo = function (props) {\n  return (\n    <div>MyInfo</div>\n  )\n}\nexport default MyInfo\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setRouterLocationAction } from '../../../flux/actions/authActions'\n\nconst EditMyInfo = function (props) {\n  props.setRouterLocationAction('/member/edit_myinfo')\n\n  return (\n    <div>EditMyInfo</div>\n  )\n}\nexport default connect(null, { setRouterLocationAction })(EditMyInfo)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport config from '../../../utils/config'\n\nimport { setRouterLocationAction } from '../../../flux/actions/authActions'\n\nconst HOST = config.HOST\n\n\nclass Address extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      address: [],\n      message: ''\n    }\n  }\n  componentWillMount() {\n    this.props.setRouterLocationAction('/member/address')\n    if (this.props.memberId === -1) return;\n    // 请求收货地址\n    axios.post(HOST + '/api/users/address', {memberId: this.props.memberId})\n      .then(res => {\n        if (res.data.success) {\n          this.setState({\n            address: res.data.payload,\n            message: ''\n          })\n        }else {\n          this.setState({\n            address: [],\n            message: res.data.message\n          })\n        }\n      })\n      .catch(err => {\n        this.setState({\n          address: [],\n          message: err.message\n        })\n      })\n  }\n  render() {\n    return (\n      <div>\n        <div>收货地址</div>\n        <div><span>编辑收货地址</span></div>\n        <div>\n          <span>详细地址:</span>\n          <input type=\"text\"/>\n        </div>\n        <div>\n          <span>邮政编码:</span>\n          <input type=\"text\"/>\n        </div>\n        <div>\n          <span>收货人姓名:</span>\n          <input type=\"text\"/>\n        </div>\n        <div>\n          <span>手机号码:</span>\n          <input type=\"text\"/>\n        </div>\n        <div>\n          <input type=\"checkbox\"/>\n          <span>默认收货地址：</span>\n        </div>\n        <button>保存</button>\n        <div>\n          <table>\n            <thead>\n              <tr>\n                <th>收货人</th>\n                <th>详细地址</th>\n                <th>邮编</th>\n                <th>电话/手机</th>\n                <th>操作</th>\n              </tr>\n            </thead>\n            <tbody>\n            {\n              this.state.address.map((item, index) => (\n                <tr key={index}>\n                  <td>{item.receiveName}</td>\n                  <td>{item.address}</td>\n                  <td>{item.postcode}</td>\n                  <td>{item.phone}</td>\n                  <td>编辑/删除</td>\n                </tr>\n              ))\n            }\n            </tbody>\n          </table>\n        </div>\n      </div>\n    )\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    address: state.auth.address,\n    memberId: state.auth.user._id === undefined ? -1 : state.auth.user._id\n  }\n}\nAddress.propTypes = {\n  address: PropTypes.array.isRequired,\n  memberId: PropTypes.number.isRequired\n}\nexport default connect(mapStateToProps, { setRouterLocationAction })(Address)\n","import React from 'react'\n\nclass ShopCat extends React.Component {\n  render() {\n    return (\n      <div>ShopCat</div>\n    )\n  }\n}\n\nexport default ShopCat\n","import React from 'react'\n\nconst Message = function (props) {\n  return (\n    <div>Message</div>\n  )\n}\nexport default Message\n","/**\n * 我的订单\n */\nimport React from 'react'\n\nclass Order extends React.Component {\n  render() {\n    return (\n      <div>Order</div>\n    )\n  }\n}\nexport default Order\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, Route } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport './index.scss'\nimport Header from '../../components/Header'\n\nimport config from '../../utils/config'\nimport Safety from './subpage/Safety'\nimport MyInfo from './subpage/MyInfo'\nimport EditMyInfo from './subpage/EditMyInfo'\nimport Address from './subpage/Address'\nimport ShopCat from './subpage/ShopCat'\nimport Message from './subpage/Message'\nimport MyOrder from './subpage/MyOrder'\n\nconst HOST = config.HOST\n/**\n * 安全设置\n *    修改手机，关闭手机登陆\n * 个人资料\n * 编辑资料\n * 收货地址\n * 资金管理\n * 购物车\n * 消息-\n *\n */\n\nclass UserInfo extends React.Component {\n  render() {\n    // 未登陆，并且未在验证中\n    // warning无法在现有状态转换期间更新(如在“render”中)。渲染方法应该是道具和状态的纯函数。\n    if (!this.props.auth.isLogin && !this.props.auth.isVerify) { this.props.history.push('/login') }\n    return (\n      <div>\n        <Header />\n        <div className=\"member-header\">\n          {/*头部*/}\n          <div className=\"member-header-wrap\">\n            <div><img height=\"34px\" width=\"140px\" src={`${HOST}/image/ui/member-logo.png`} alt=\"\"/></div>\n            <div className=\"mh-choice-box\">\n              <Link to=\"/member\">\n                <div className=\"member-header-home\">首页</div>\n              </Link>\n            </div>\n          </div>\n        </div>\n        {\n          !this.props.auth.isLogin ?\n          <div>加载中。。。</div> :\n          <div className=\"member-wrap\">\n            {/*导航区*/}\n            <div className=\"member-nav\">\n              <div><img src={`${HOST}/image/member/avatar/${this.props.auth.user.avatar}`} alt=\"\"/></div>\n              <ul>\n                <li><Link to=\"/member/safety\">安全设置</Link></li>\n                <li><Link to=\"/member\">个人资料</Link></li>\n                <li><Link to=\"/member/edit_myinfo\">编辑资料</Link></li>\n                <li><Link to=\"/member/myorder\">我的订单</Link></li>\n                <li><Link to=\"/member/address\">收货地址</Link></li>\n                <li><Link to=\"/member/shop_cat\">购物车</Link></li>\n                <li><Link to=\"/member/message\">消息</Link></li>\n              </ul>\n            </div>\n            {/*信息展示区*/}\n            <div className=\"member-info\">\n              <Route path=\"/member/safety\" component={Safety} />\n              <Route path=\"/member\" exact component={MyInfo} />\n              <Route path=\"/member/edit_myinfo\" component={EditMyInfo} />\n              <Route path=\"/member/address\" component={Address} />\n              <Route path=\"/member/shop_cat\" component={ShopCat} />\n              <Route path=\"/member/message\" component={Message} />\n              <Route path=\"/member/myorder\" component={MyOrder} />\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  }\n}\nUserInfo.propTypes = {\n  auth: PropTypes.object.isRequired\n}\nexport default connect(mapStateToProps)(UserInfo)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport config from '../../utils/config'\n\nimport { setRouterLocationAction } from '../../flux/actions/authActions'\nimport { setPayOrderAction } from '../../flux/actions/orderActions'\nimport Header from '../../components/Header'\nimport { transPrice, intMultiplication, intAdd } from '../../utils/tools'\n\nconst HOST = config.HOST\n\n\nclass Order extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      choiceAddress: {},\n      numbers: [],\n      totalPrice: 0,  // 总计金额\n      comments: [],\n      errors: {}\n    }\n    this.computeTotal = this.computeTotal.bind(this)\n  }\n  componentWillMount() {\n    console.log(this.props)\n    // 没有要购买的商品\n    if (!Array.isArray(this.props.order.buyProducts) || this.props.order.buyProducts.length < 1) {\n      // 跳转到上一级\n      this.props.history.push(this.props.auth.location || '/')\n    }\n    this.props.setRouterLocationAction('/order')\n    // 判断是否登录，判断收货地址\n    if (!this.props.auth.isLogin && !this.props.auth.isVerify) {\n      return this.props.history.push('/login')\n    }\n    var buyProducts = this.props.order.buyProducts\n    var numbers = [];\n    var comments = [];\n    var totalPrice = 0;\n    for (var i = 0, len = buyProducts.length; i < len; i++) {\n      comments[i] = ''\n      numbers[i] = buyProducts[i].number\n      totalPrice = intAdd(totalPrice, intMultiplication(buyProducts[i].productDetail.price, buyProducts[i].number))\n    }\n    // 初始化购买数据量\n    this.setState({\n      numbers,\n      totalPrice,\n      comments\n    })\n  }\n  // 计算总价\n  computeTotal(index, number) {\n    var buyProducts = this.props.order.buyProducts\n    var totalPrice = 0;\n    for (var i = 0, len = buyProducts.length; i < len; i++) {\n      totalPrice = intAdd(totalPrice, intMultiplication(buyProducts[i].productDetail.price, i === index ? number : this.state.numbers[i]))\n    }\n    return totalPrice\n  }\n\n  addressChoice(address) {\n    return function() {\n      this.setState({\n        choiceAddress: address\n      })\n    }\n  }\n  numberChange(index, amount) {\n    return function(e) {\n      var number = e.target.value\n      if (!/^[1-9]\\d{0,}$/.test(number) || Number(number) > Number(amount))\n        return;\n      var nums = [...this.state.numbers]\n      nums[index] = number\n      this.setState({\n        numbers: nums,\n        totalPrice: this.computeTotal(index, number) // 重新计算总价\n      })\n    }\n  }\n  // 数量减减\n  numberMinus(index, amount) {\n    return function() {\n      this.numberChange(index,amount).call(this, {target:{value: Number(this.state.numbers[index])-1}})\n    }\n  }\n  // 数量加加\n  numberPlus(index, amount) {\n    return function() {\n      this.numberChange(index,amount).call(this, {target:{value: Number(this.state.numbers[index])+1}})\n    }\n  }\n  commentChange(index) {\n    return function(e) {\n      if (e.target.value.length > 200) return;\n      var comments = [...this.state.comments]\n      comments[index] = e.target.value\n      this.setState({\n        comments\n      })\n    }\n  }\n  submitOrder() {\n    // 商品 Ids, 数量s, detailIds, addressId\n    var request = {\n      // goodIds: [],\n      goodDetailIds: [],\n      numbers: this.state.numbers,\n      addressId: this.state.choiceAddress._id,\n      messages: this.state.comments\n    }\n    for (var i = 0, len = this.props.order.buyProducts.length; i < len; i++) {\n      // request.goodIds.push(this.props.order.buyProducts[i].goodId)\n      request.goodDetailIds.push(this.props.order.buyProducts[i].productDetail._id)\n    }\n    axios.post(`${HOST}/api/order/submit_order`, request)\n      .then(res => {\n        if (!res.data.success) {\n          return this.setState({\n            errors: {\n              ...this.state.errors,\n              submitOrder: res.data.message\n            }\n          })\n        }\n        this.props.setPayOrderAction(res.data.payload)\n        // 跳转到支付页面\n        this.props.history.push('/payorder')\n      })\n      .catch(err => {\n        this.setState({\n          errors: {\n            ...this.state.errors,\n            submitOrder: err.message\n          }\n        })\n      })\n  }\n  render() {\n    return (\n      <div>\n        <Header />\n        {/*收货地址*/}\n        <h3>选择收货地址</h3>\n        <div>\n          {\n            this.props.auth.address.map((item, index) => (\n              <div onClick={this.addressChoice(item).bind(this)} key={index}>\n                <div>{item.receiveName}</div>\n                <div>{item.address}</div>\n                <div>{item.postcode}</div>\n                <div>{item.phone}</div>\n              </div>\n            ))\n          }\n          <Link to=\"/member/address\"><div>添加收货地址</div></Link>\n        </div>\n        <h3>确认订单信息</h3>\n        {\n          this.props.order.buyProducts.map((item, index) => {\n            return (\n              <div key={index}>\n                <div>{item.storeName}, {item.nickname}</div>\n                <div><img width=\"50px\" height=\"50px\" src={`${HOST}/api/goods/product_logo?goodId=${item.goodId}`} alt=\"\"/></div>\n                <div>{item.productName}</div>\n                {\n                  Array.isArray(item.specChoice) ? item.specChoice.map((config, index) => {\n                    return (\n                      // 顺序排列 index = config -1\n                      <div key={index}>{item.specName[index].specName}:{item.specValue[config-1].specValue}</div>\n                    )\n                  }) : null\n                }\n                <div>单价{transPrice(item.productDetail.price)}</div>\n                <div>\n                  <span onClick={this.numberMinus(index, item.productDetail.amount).bind(this)}>-</span>\n                  数量<input onChange={this.numberChange(index, item.productDetail.amount).bind(this)} value={this.state.numbers[index]} type=\"text\"/>\n                  <span onClick={this.numberPlus(index, item.productDetail.amount).bind(this)}>+</span>\n                </div>\n                <div>库存：{item.productDetail.amount}</div>\n                <div>小计{transPrice(intMultiplication(item.productDetail.price, this.state.numbers[index]))}</div>\n                <div>给卖家留言：<input onChange={this.commentChange(index).bind(this)} value={this.state.comments[index]} type=\"text\"/></div>\n              </div>\n            )\n          })\n        }\n        <div>总计：{transPrice(this.state.totalPrice)}</div>\n        <button onClick={this.submitOrder.bind(this)}>提交订单</button>\n        {\n          this.state.errors.submitOrder && (\n            <div>{this.state.errors.submitOrder}</div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    order: state.order\n  }\n}\nOrder.propTypes = {\n  auth: PropTypes.object.isRequired,\n  order: PropTypes.object.isRequired\n}\nexport default connect(mapStateToProps, { setRouterLocationAction, setPayOrderAction })(Order)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst PayHeader = (props) => {\n  return (\n    <div>\n      <h2>优选 收银台</h2>\n      <span>{props.auth.user.nickname}</span>\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  }\n}\nexport default connect(mapStateToProps)(PayHeader)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { isEmpty } from '../../utils/validator'\nimport axios from 'axios'\nimport config from '../../utils/config'\n\nimport { setRouterLocationAction } from '../../flux/actions/authActions'\nimport PayHeader from './subpage/PayHeader'\n\nconst HOST = config.HOST\n\nclass PayOrder extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      payway: 'alipay', // 余额 或 支付宝\n      property: -1,  // 余额\n      errors: {}\n    }\n    this.paywayChange = this.paywayChange.bind(this)\n  }\n\n  componentWillMount() {\n    /**\n     * 判断上一级页面是否 /order，跳到主页\n     */\n    this.props.setRouterLocationAction('/payorder')\n    if (!this.props.auth.isLogin) {\n      this.props.history.push('/login')\n    }\n    axios.get(`${HOST}/api/users/get_property`)\n      .then(res => {\n        if (!res.data.success) {\n          return this.setState({\n            errors: {...this.state.errors, wallet: res.data.message}\n          })\n        }\n        this.setState({\n          property: res.data.payload,\n          errors: {...this.state.errors, wallet: ''}\n        })\n      })\n      .catch(err => {\n        this.setState({\n          errors: {...this.state.errors, wallet: '服务器忙'}\n        })\n      })\n  }\n\n  paywayChange(e) {\n    this.setState({\n      payway: e.target.value\n    })\n  }\n  setPayway(way) {\n    return function() {\n      this.setState({\n        payway: way\n      })\n    }\n  }\n  render() {\n    console.log('payprops',this.props)\n    console.log('paystate', this.state)\n    const payOrder = this.props.order.payOrder\n    const buyProducts = this.props.order.buyProducts\n    return (\n      <div>\n        <PayHeader />\n        {\n          this.props.order.payStatus !== 'success' ? null : (\n            <h1>付款成功</h1>\n          )\n        }\n        {\n          [isEmpty(buyProducts) ? null : (\n            buyProducts.map((item, index) => (\n              <div key={index}>\n                <div>{item.productName}</div>\n                <div>卖家：{item.nickname}</div>\n                {\n                  // Array.isArray(item.specChoice) && item.specChoice.map((choice, i) => (\n                  //   <div key={i}>\n                  //     <div>{item.specName[i].specName}: {item.specValue[choice].specValue}</div>\n                  //   </div>\n                  // ))\n                }\n              </div>\n            ))\n          ),\n          isEmpty(payOrder) ? null : (\n            <div key=\"sumPrice\">{payOrder.sumPrice}元</div>\n          )]\n        }\n        <h2>付款方式</h2>\n        <div onClick={this.setPayway('alipay').bind(this)}>\n          <input onChange={this.paywayChange} checked={this.state.payway === 'alipay'} name=\"payway\" type=\"radio\" value=\"alipay\"/>\n          <span>支付宝扫码支付</span>\n        </div>\n        <div onClick={this.setPayway('wallet').bind(this)}>\n          <input onChange={this.paywayChange} checked={this.state.payway === 'wallet'} name=\"payway\" type=\"radio\" value=\"wallet\"/>\n          <span>钱包余额支付</span>\n        </div>\n        {\n          isEmpty(payOrder) ? null : this.state.payway === 'alipay' ? (\n            <div>\n              {/*支付宝二维码*/}\n              <iframe height=\"835px\" width=\"100%\" src={payOrder.alipayURL} frameBorder=\"0\"></iframe>\n            </div>\n          ) : (\n            <div>\n              { /*余额支付*/\n                this.state.errors.wallet ? (\n                  <div>{this.state.errors.wallet}</div>\n                ) : (\n                  this.state.property === -1 ? null : (\n                    <div>\n                      <div>订单号：{payOrder.orderno}</div>\n                      <div>账户余额：{this.state.property}</div>\n                      <div><input type=\"text\"/><button>点击发送验证码</button></div>\n                    </div>\n                  )\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    order: state.order,\n    auth: state.auth\n  }\n}\nexport default connect(mapStateToProps, { setRouterLocationAction })(PayOrder)\n","import React, { Component } from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport axios from 'axios'\n\nimport \"./App.scss\"\nimport config from './utils/config.js'\nimport socket from './utils/socket'\n\nimport Home from './containers/Home'\nimport Register from './containers/Register'\nimport Login from './containers/Login'\nimport SearchProduct from './containers/SearchProduct'\nimport GotoSearchProduct from './containers/SearchProduct/GotoSearchProduct'\nimport ProductDetail from './containers/ProductDetail'\nimport UserInfo from './containers/UserInfo'\nimport Order from './containers/Order'\nimport PayOrder from './containers/PayOrder'\n\nimport { setAuthToken, setCurrentUser } from './utils/setAuth'\nif (typeof(window) === 'object') {\n  // 验证本地 token\n  const jwtToken = window.localStorage.jwtToken;\n  if (jwtToken) {\n    setAuthToken(jwtToken); // 设置请求头 token\n    // 验证请求头token\n    axios.get(config.HOST + '/api/users/current')\n      .then(res => {\n        if (!res.data.success) {\n          setAuthToken(false);\n          setCurrentUser({});\n        } else {\n          // token 验证成功\n          setAuthToken(jwtToken);\n          setCurrentUser(res.data.payload);\n        }\n      })\n      .catch(err => {\n        setAuthToken(false);\n        setCurrentUser({});\n      });\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        {/*路径参数变化不会触发组件刷新，此处需要跳转*/}\n        <Route path=\"/search_product\" exact component={GotoSearchProduct} />\n        <Route path=\"/search_products\" exact component={SearchProduct} />\n        <Route path=\"/product_detail\" exact component={ProductDetail} />\n        <Route path=\"/member\" component={UserInfo} />\n        <Route path=\"/order\" exact component={Order} />\n        <Route path=\"/payorder\" exact component={PayOrder} />\n        {/*<Redirect to=\"/\" />*/}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport App from './App';\nimport store from './flux/store'\n\nconst ReactBody = () => {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  )\n}\n\nReactDOM.render(<ReactBody />, document.getElementById('root'));\n"],"sourceRoot":""}